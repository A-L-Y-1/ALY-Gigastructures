namespace = giga_menu

@giga_version = 3.0

# On Game Start (Get Host)
country_event = {
	id = giga_menu.0
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
		NOT = { has_global_flag = giga_has_host }
	}

	immediate = {
		set_global_flag = giga_has_host
		set_country_flag = giga_host
		set_global_flag = giga_chose_u
		giga_reset_menu = yes

		set_global_flag = giga_build_infinite_megas
		every_country = { add_modifier = { modifier = giga_no_build_cap days = -1 } }
	}
}

# On press begin
country_event = {
	id = giga_menu.1
	title = "giga_menu.1.name"
	desc = "giga_menu.1.desc"
	diplomatic = yes
	custom_gui = "giga_main_menu_window"
	picture_event_data = { room = main_menu_room }
	location = fromfrom
	is_triggered_only = yes
	trigger = { has_country_flag = giga_host }

	### Header ######################################################################################################################################################################################################
	option = { trigger = { NOT = { has_global_flag = giga_has_host } } name = "giga_menu.header.version"		custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { trigger = { NOT = { has_global_flag = giga_has_host } } name = "giga_menu.desc.version"			custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { trigger = { NOT = { has_global_flag = giga_has_host } } name = "giga_menu.header.blank"			custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#################################################################################################################################################################################################################

	# Confirm
	option = {
		custom_gui = "giga_main_menu_confirm"
		default_hide_option = yes
		name = "giga_menu.2.confirm"
		custom_tooltip = "giga_menu.2.confirm.tooltip"
		hidden_effect = {
			if = {
				limit = { NOT = { has_global_flag = giga_game_started } }
				if = {
					limit = { NOT = { has_global_flag = fe_planetcrafts_disabled } }
					country_event = { id = giga_fallen_empire.001 days = 1 }
				}
				if = { limit = { check_variable = { which = giga_vanilla_dyson_cap value = 100 } }			every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 1 } }				set_global_flag = giga_vaniila_dyson_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_interstellar_cap value = 100 } }	every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 1 } }		set_global_flag = giga_vanilla_interstellar_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_matter_cap value = 100 } }			every_country = { set_variable = { which = giga_vanilla_matter_cap value = 1 } }			set_global_flag = giga_vanilla_matter_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_art_cap value = 100 } }			every_country = { set_variable = { which = giga_vanilla_art_cap value = 1 } }				set_global_flag = giga_vanilla_art_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_shipyard_cap value = 100 } }		every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 1 } }			set_global_flag = giga_vanilla_shipyard_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_ringworld_cap value = 100 } }		every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 1 } }			set_global_flag = giga_vanilla_ringworld_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_nexus_cap value = 100 } }			every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 1 } }				set_global_flag = giga_vanilla_nexus_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_array_cap value = 100 } }			every_country = { set_variable = { which = giga_vanilla_array_cap value = 1 } }				set_global_flag = giga_vanilla_array_repeatables }
				if = { limit = { check_variable = { which = giga_vanilla_strategic_cap value = 100 } }		every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 1 } }			set_global_flag = giga_vanilla_strategic_repeatables }
				if = { limit = { check_variable = { which = giga_ringworlds_cap value = 100 } }				every_country = { set_variable = { which = giga_ringworlds_cap value = 1 } }				set_global_flag = giga_ringworlds_repeatables }
				if = { limit = { check_variable = { which = giga_cityring_cap value = 100 } }				every_country = { set_variable = { which = giga_cityring_cap value = 1 } }					set_global_flag = giga_cityring_repeatables }
				if = { limit = { check_variable = { which = giga_hivering_cap value = 100 } }				every_country = { set_variable = { which = giga_hivering_cap value = 1 } }					set_global_flag = giga_hivering_repeatables }
				if = { limit = { check_variable = { which = giga_machinering_cap value = 100 } }			every_country = { set_variable = { which = giga_machinering_cap value = 1 } }				set_global_flag = giga_machinering_repeatables }
				if = { limit = { check_variable = { which = giga_upgrade_cap value = 100 } }				every_country = { set_variable = { which = giga_upgrade_cap value = 1 } }					set_global_flag = giga_upgrade_repeatables }
				if = { limit = { check_variable = { which = giga_alderson_cap value = 100 } }				every_country = { set_variable = { which = giga_alderson_cap value = 1 } }					set_global_flag = giga_alderson_repeatables }
				if = { limit = { check_variable = { which = giga_terraform_toxic_cap value = 100 } }		every_country = { set_variable = { which = giga_terraform_toxic_cap value = 1 } }			set_global_flag = giga_terraform_toxic_repeatables }
				if = { limit = { check_variable = { which = giga_drill_cap value = 100 } }					every_country = { set_variable = { which = giga_drill_cap value = 1 } }						set_global_flag = giga_drill_repeatables }
				if = { limit = { check_variable = { which = giga_warmoon_cap value = 100 } }				every_country = { set_variable = { which = giga_warmoon_cap value = 1 } }					set_global_flag = giga_warmoon_repeatables }
				if = { limit = { check_variable = { which = giga_warplanet_cap value = 100 } }				every_country = { set_variable = { which = giga_warplanet_cap value = 1 } }					set_global_flag = giga_warplanet_repeatables }
				if = { limit = { check_variable = { which = giga_birch_cap value = 100 } }					every_country = { set_variable = { which = giga_birch_cap value = 1 } }						set_global_flag = giga_birch_repeatables }
				if = { limit = { check_variable = { which = giga_crystal_cap value = 100 } }				every_country = { set_variable = { which = giga_crystal_cap value = 1 } }					set_global_flag = giga_crystal_repeatables }
				if = { limit = { check_variable = { which = giga_terraform_barren_cap value = 100 } }		every_country = { set_variable = { which = giga_terraform_barren_cap value = 1 } }			set_global_flag = giga_terraform_barren_repeatables }
				if = { limit = { check_variable = { which = giga_shipyard_cap value = 100 } }				every_country = { set_variable = { which = giga_shipyard_cap value = 1 } }					set_global_flag = giga_shipyard_repeatables }
				if = { limit = { check_variable = { which = giga_suppressor_cap value = 100 } }				every_country = { set_variable = { which = giga_suppressor_cap value = 1 } }				set_global_flag = giga_suppressor_repeatables }
				if = { limit = { check_variable = { which = giga_geothermal_cap value = 100 } }				every_country = { set_variable = { which = giga_geothermal_cap value = 1 } }				set_global_flag = giga_geothermal_repeatables }
				if = { limit = { check_variable = { which = giga_hraemc_cap value = 100 } }					every_country = { set_variable = { which = giga_hraemc_cap value = 1 } }					set_global_flag = giga_hraemc_repeatables }
				if = { limit = { check_variable = { which = giga_hyperstructural_ass_cap value = 100 } }	every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 1 } }		set_global_flag = giga_hyperstructural_ass_repeatables }
				if = { limit = { check_variable = { which = giga_stellarhabitat_cap value = 100 } }			every_country = { set_variable = { which = giga_stellarhabitat_cap value = 1 } }			set_global_flag = giga_stellarhabitat_repeatables }
				if = { limit = { check_variable = { which = giga_kugel_cap value = 100 } }					every_country = { set_variable = { which = giga_kugel_cap value = 1 } }						set_global_flag = giga_kugel_repeatables }
				if = { limit = { check_variable = { which = giga_disco_moon_cap value = 100 } }				every_country = { set_variable = { which = giga_disco_moon_cap value = 1 } }				set_global_flag = giga_disco_moon_repeatables }
				if = { limit = { check_variable = { which = giga_terraform_gasgiant_cap value = 100 } }		every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 1 } }		set_global_flag = giga_terraform_gasgiant_repeatables }
				if = { limit = { check_variable = { which = giga_megabase_cap value = 100 } }				every_country = { set_variable = { which = giga_megabase_cap value = 1 } }					set_global_flag = giga_megabase_repeatables }
				if = { limit = { check_variable = { which = giga_matrioshka_brain_cap value = 100 } }		every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 1 } }			set_global_flag = giga_matrioshka_brain_repeatables }
				if = { limit = { check_variable = { which = giga_gigaforge_cap value = 100 } }				every_country = { set_variable = { which = giga_gigaforge_cap value = 1 } }					set_global_flag = giga_gigaforge_repeatables }
				if = { limit = { check_variable = { which = giga_ndb_cap value = 100 } }					every_country = { set_variable = { which = giga_ndb_cap value = 1 } }						set_global_flag = giga_ndb_repeatables }
				if = { limit = { check_variable = { which = giga_nidavellir_cap value = 100 } }				every_country = { set_variable = { which = giga_nidavellir_cap value = 1 } }				set_global_flag = giga_nidavellir_repeatables }
				if = { limit = { check_variable = { which = giga_orbital_arcologies_cap value = 100 } }		every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 1 } }		set_global_flag = giga_orbital_arcologies_repeatables }
				if = { limit = { check_variable = { which = giga_orbital_artificial_eco_cap value = 100 } }	every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 1 } }	set_global_flag = giga_orbital_artificial_eco_repeatables }
				if = { limit = { check_variable = { which = giga_academy_cap value = 100 } }				every_country = { set_variable = { which = giga_academy_cap value = 1 } }					set_global_flag = giga_academy_repeatables }
				if = { limit = { check_variable = { which = giga_elysium_cap value = 100 } }				every_country = { set_variable = { which = giga_elysium_cap value = 1 } }					set_global_flag = giga_elysium_repeatables }
				if = { limit = { check_variable = { which = giga_penrose_sphere_cap value = 100 } }			every_country = { set_variable = { which = giga_penrose_sphere_cap value = 1 } }			set_global_flag = giga_penrose_sphere_repeatables }
				if = { limit = { check_variable = { which = giga_planetary_computer_cap value = 100 } }		every_country = { set_variable = { which = giga_planetary_computer_cap value = 1 } }		set_global_flag = giga_planetary_computer_repeatables }
				if = { limit = { check_variable = { which = giga_siphon_cap value = 100 } }					every_country = { set_variable = { which = giga_siphon_cap value = 1 } }					set_global_flag = giga_siphon_repeatables }
				if = { limit = { check_variable = { which = giga_quasistellar_cap value = 100 } }			every_country = { set_variable = { which = giga_quasistellar_cap value = 1 } }				set_global_flag = giga_quasistellar_repeatables }
				if = { limit = { check_variable = { which = giga_lifters_cap value = 100 } }				every_country = { set_variable = { which = giga_lifters_cap value = 1 } }					set_global_flag = giga_lifters_repeatables }
				if = { limit = { check_variable = { which = giga_accelerator_cap value = 100 } }			every_country = { set_variable = { which = giga_accelerator_cap value = 1 } }				set_global_flag = giga_accelerator_repeatables }
				if = { limit = { check_variable = { which = giga_systemcraft_cap value = 100 } }			every_country = { set_variable = { which = giga_systemcraft_cap value = 1 } }				set_global_flag = giga_systemcraft_repeatables }
				if = { limit = { check_variable = { which = giga_compressor_cap value = 100 } }				every_country = { set_variable = { which = giga_compressor_cap value = 1 } }				set_global_flag = giga_compressor_repeatables }
				if = { limit = { check_variable = { which = giga_succ_cap value = 100 } }					every_country = { set_variable = { which = giga_succ_cap value = 1 } }						set_global_flag = giga_succ_repeatables }
				if = { limit = { check_variable = { which = giga_orchid_cap value = 100 } }					every_country = { set_variable = { which = giga_orchid_cap value = 1 } }					set_global_flag = giga_orchid_repeatables }
				set_global_flag = giga_game_started
			}
		}
	}

	#Enable All
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.2.enable"
		hidden_effect = {
			giga_reset_menu = yes
			country_event = { id = giga_menu.1 }
		}
	}

	#Disable All
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.2.disable"
		hidden_effect = {
			country_event = { id = giga_menu.1 }
			set_global_flag = vanilla_dyson_disabled
			set_global_flag = vanilla_interstellar_disabled
			set_global_flag = vanilla_matter_disabled
			set_global_flag = vanilla_art_disabled
			set_global_flag = vanilla_shipyard_disabled
			set_global_flag = vanilla_ringworld_disabled
			set_global_flag = vanilla_nexus_disabled
			set_global_flag = vanilla_array_disabled
			set_global_flag = vanilla_strategic_disabled

			set_global_flag = terraform_barren_disabled
			set_global_flag = matrioshka_brain_disabled
			set_global_flag = penrose_sphere_disabled
			set_global_flag = kugel_disabled
			set_global_flag = siphon_disabled
			set_global_flag = megabase_disabled
			set_global_flag = compressor_disabled
			set_global_flag = orchid_disabled
			set_global_flag = drill_disabled
			set_global_flag = orbital_artificial_eco_disabled
			set_global_flag = academy_disabled
			set_global_flag = gigaforge_disabled
			set_global_flag = ndb_disabled
			set_global_flag = elysium_disabled
			set_global_flag = accelerator_disabled
			set_global_flag = ring_titanic_disabled
			set_global_flag = ring_behemoth_disabled
			set_global_flag = ring_gargantuan_disabled
			set_global_flag = upgrade_disabled
			set_global_flag = lifters_disabled
			set_global_flag = terraform_toxic_disabled
			set_global_flag = hraemc_disabled
			set_global_flag = warmoon_disabled
			set_global_flag = warplanet_disabled
			set_global_flag = suppressor_disabled
			set_global_flag = terraform_gasgiant_disabled
			set_global_flag = stellarhabitat_disabled
			set_global_flag = orbital_arcologies_disabled
			set_global_flag = planetary_computer_disabled
			set_global_flag = nidavellir_disabled
			set_global_flag = crystal_disabled
			set_global_flag = succ_disabled
			set_global_flag = cityring_disabled
			set_global_flag = disco_moon_disabled
			set_global_flag = hyperstructural_ass_disabled
			set_global_flag = machinering_disabled
			set_global_flag = hivering_disabled
			set_global_flag = birch_disabled
			set_global_flag = systemcraft_disabled
			set_global_flag = alderson_disabled
			set_global_flag = geothermal_disabled
			set_global_flag = quasistellar_disabled
			set_global_flag = shipyard_disabled
			if = {
				limit = { NOT = { has_global_flag = giga_game_started } }
				set_global_flag = fe_planetcrafts_disabled
				set_global_flag = giga_core_disabled
				set_global_flag = giga_galactic_fed_disabled
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 0 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 0 }
					set_variable = { which = giga_vanilla_matter_cap value = 0 }
					set_variable = { which = giga_vanilla_art_cap value = 0 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 0 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 0 }
					set_variable = { which = giga_vanilla_nexus_cap value = 0 }
					set_variable = { which = giga_vanilla_array_cap value = 0 }
					set_variable = { which = giga_vanilla_strategic_cap value = 0 }

					set_variable = { which = giga_ringworlds_cap value = 0 }
					set_variable = { which = giga_cityring_cap value = 0 }
					set_variable = { which = giga_hivering_cap value = 0 }
					set_variable = { which = giga_machinering_cap value = 0 }
					set_variable = { which = giga_upgrade_cap value = 0 }
					set_variable = { which = giga_alderson_cap value = 0 }
					set_variable = { which = giga_terraform_toxic_cap value = 0 }
					set_variable = { which = giga_drill_cap value = 0 }
					set_variable = { which = giga_warmoon_cap value = 0 }
					set_variable = { which = giga_warplanet_cap value = 0 }
					set_variable = { which = giga_birch_cap value = 0 }
					set_variable = { which = giga_crystal_cap value = 0 }
					set_variable = { which = giga_terraform_barren_cap value = 0 }
					set_variable = { which = giga_shipyard_cap value = 0 }
					set_variable = { which = giga_suppressor_cap value = 0 }
					set_variable = { which = giga_geothermal_cap value = 0 }
					set_variable = { which = giga_hraemc_cap value = 0 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 0 }
					set_variable = { which = giga_stellarhabitat_cap value = 0 }
					set_variable = { which = giga_kugel_cap value = 0 }
					set_variable = { which = giga_disco_moon_cap value = 0 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 0 }
					set_variable = { which = giga_megabase_cap value = 0 }
					set_variable = { which = giga_matrioshka_brain_cap value = 0 }
					set_variable = { which = giga_gigaforge_cap value = 0 }
					set_variable = { which = giga_ndb_cap value = 0 }
					set_variable = { which = giga_nidavellir_cap value = 0 }
					set_variable = { which = giga_orbital_arcologies_cap value = 0 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 0 }
					set_variable = { which = giga_academy_cap value = 0 }
					set_variable = { which = giga_elysium_cap value = 0 }
					set_variable = { which = giga_penrose_sphere_cap value = 0 }
					set_variable = { which = giga_planetary_computer_cap value = 0 }
					set_variable = { which = giga_siphon_cap value = 0 }
					set_variable = { which = giga_quasistellar_cap value = 0 }
					set_variable = { which = giga_lifters_cap value = 0 }
					set_variable = { which = giga_accelerator_cap value = 0 }
					set_variable = { which = giga_systemcraft_cap value = 0 }
					set_variable = { which = giga_compressor_cap value = 0 }
					set_variable = { which = giga_succ_cap value = 0 }
					set_variable = { which = giga_orchid_cap value = 0 }
				}
			}
		}
	}

	# Change all caps
	option = {
		trigger = { NOT = { has_global_flag = giga_game_started } }
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.cap"
		custom_tooltip = "giga_menu.cap.tooltip"
		hidden_effect = {
			if = {
				limit = { has_global_flag = giga_chose_u }
				remove_global_flag = giga_chose_u
				set_global_flag = giga_chose_r
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 100 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 100 }
					set_variable = { which = giga_vanilla_matter_cap value = 100 }
					set_variable = { which = giga_vanilla_art_cap value = 100 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 100 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 100 }
					set_variable = { which = giga_vanilla_nexus_cap value = 100 }
					set_variable = { which = giga_vanilla_array_cap value = 100 }
					set_variable = { which = giga_vanilla_strategic_cap value = 100 }

					set_variable = { which = giga_ringworlds_cap value = 100 }
					set_variable = { which = giga_cityring_cap value = 100 }
					set_variable = { which = giga_hivering_cap value = 100 }
					set_variable = { which = giga_machinering_cap value = 100 }
					set_variable = { which = giga_upgrade_cap value = 100 }
					set_variable = { which = giga_alderson_cap value = 100 }
					set_variable = { which = giga_terraform_toxic_cap value = 100 }
					set_variable = { which = giga_drill_cap value = 100 }
					set_variable = { which = giga_warmoon_cap value = 100 }
					set_variable = { which = giga_warplanet_cap value = 100 }
					set_variable = { which = giga_birch_cap value = 100 }
					set_variable = { which = giga_crystal_cap value = 100 }
					set_variable = { which = giga_terraform_barren_cap value = 100 }
					set_variable = { which = giga_shipyard_cap value = 100 }
					set_variable = { which = giga_suppressor_cap value = 100 }
					set_variable = { which = giga_geothermal_cap value = 100 }
					set_variable = { which = giga_hraemc_cap value = 100 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 100 }
					set_variable = { which = giga_stellarhabitat_cap value = 100 }
					set_variable = { which = giga_kugel_cap value = 100 }
					set_variable = { which = giga_disco_moon_cap value = 100 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 100 }
					set_variable = { which = giga_megabase_cap value = 100 }
					set_variable = { which = giga_matrioshka_brain_cap value = 100 }
					set_variable = { which = giga_gigaforge_cap value = 100 }
					set_variable = { which = giga_ndb_cap value = 100 }
					set_variable = { which = giga_nidavellir_cap value = 100 }
					set_variable = { which = giga_orbital_arcologies_cap value = 100 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 100 }
					set_variable = { which = giga_academy_cap value = 100 }
					set_variable = { which = giga_elysium_cap value = 100 }
					set_variable = { which = giga_penrose_sphere_cap value = 100 }
					set_variable = { which = giga_planetary_computer_cap value = 100 }
					set_variable = { which = giga_siphon_cap value = 100 }
					set_variable = { which = giga_quasistellar_cap value = 100 }
					set_variable = { which = giga_lifters_cap value = 100 }
					set_variable = { which = giga_accelerator_cap value = 100 }
					set_variable = { which = giga_systemcraft_cap value = 100 }
					set_variable = { which = giga_compressor_cap value = 100 }
					set_variable = { which = giga_succ_cap value = 100 }
					set_variable = { which = giga_orchid_cap value = 100 }
				}
			}
			else_if = {
				limit = { has_global_flag = giga_chose_r }
				remove_global_flag = giga_chose_r
				set_global_flag = giga_chose_1
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 1 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 1 }
					set_variable = { which = giga_vanilla_matter_cap value = 1 }
					set_variable = { which = giga_vanilla_art_cap value = 1 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 1 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 1 }
					set_variable = { which = giga_vanilla_nexus_cap value = 1 }
					set_variable = { which = giga_vanilla_array_cap value = 1 }
					set_variable = { which = giga_vanilla_strategic_cap value = 1 }

					set_variable = { which = giga_ringworlds_cap value = 1 }
					set_variable = { which = giga_cityring_cap value = 1 }
					set_variable = { which = giga_hivering_cap value = 1 }
					set_variable = { which = giga_machinering_cap value = 1 }
					set_variable = { which = giga_upgrade_cap value = 1 }
					set_variable = { which = giga_alderson_cap value = 1 }
					set_variable = { which = giga_terraform_toxic_cap value = 1 }
					set_variable = { which = giga_drill_cap value = 1 }
					set_variable = { which = giga_warmoon_cap value = 1 }
					set_variable = { which = giga_warplanet_cap value = 1 }
					set_variable = { which = giga_birch_cap value = 1 }
					set_variable = { which = giga_crystal_cap value = 1 }
					set_variable = { which = giga_terraform_barren_cap value = 1 }
					set_variable = { which = giga_shipyard_cap value = 1 }
					set_variable = { which = giga_suppressor_cap value = 1 }
					set_variable = { which = giga_geothermal_cap value = 1 }
					set_variable = { which = giga_hraemc_cap value = 1 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 1 }
					set_variable = { which = giga_stellarhabitat_cap value = 1 }
					set_variable = { which = giga_kugel_cap value = 1 }
					set_variable = { which = giga_disco_moon_cap value = 1 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 1 }
					set_variable = { which = giga_megabase_cap value = 1 }
					set_variable = { which = giga_matrioshka_brain_cap value = 1 }
					set_variable = { which = giga_gigaforge_cap value = 1 }
					set_variable = { which = giga_ndb_cap value = 1 }
					set_variable = { which = giga_nidavellir_cap value = 1 }
					set_variable = { which = giga_orbital_arcologies_cap value = 1 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 1 }
					set_variable = { which = giga_academy_cap value = 1 }
					set_variable = { which = giga_elysium_cap value = 1 }
					set_variable = { which = giga_penrose_sphere_cap value = 1 }
					set_variable = { which = giga_planetary_computer_cap value = 1 }
					set_variable = { which = giga_siphon_cap value = 1 }
					set_variable = { which = giga_quasistellar_cap value = 1 }
					set_variable = { which = giga_lifters_cap value = 1 }
					set_variable = { which = giga_accelerator_cap value = 1 }
					set_variable = { which = giga_systemcraft_cap value = 1 }
					set_variable = { which = giga_compressor_cap value = 1 }
					set_variable = { which = giga_succ_cap value = 1 }
					set_variable = { which = giga_orchid_cap value = 1 }
				}
			}
			else_if = {
				limit = { has_global_flag = giga_chose_1 }
				remove_global_flag = giga_chose_1
				set_global_flag = giga_chose_2
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 2 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 2 }
					set_variable = { which = giga_vanilla_matter_cap value = 2 }
					set_variable = { which = giga_vanilla_art_cap value = 2 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 2 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 2 }
					set_variable = { which = giga_vanilla_nexus_cap value = 2 }
					set_variable = { which = giga_vanilla_array_cap value = 2 }
					set_variable = { which = giga_vanilla_strategic_cap value = 2 }

					set_variable = { which = giga_ringworlds_cap value = 2 }
					set_variable = { which = giga_cityring_cap value = 2 }
					set_variable = { which = giga_hivering_cap value = 2 }
					set_variable = { which = giga_machinering_cap value = 2 }
					set_variable = { which = giga_upgrade_cap value = 2 }
					set_variable = { which = giga_alderson_cap value = 2 }
					set_variable = { which = giga_terraform_toxic_cap value = 2 }
					set_variable = { which = giga_drill_cap value = 2 }
					set_variable = { which = giga_warmoon_cap value = 2 }
					set_variable = { which = giga_warplanet_cap value = 2 }
					set_variable = { which = giga_birch_cap value = 2 }
					set_variable = { which = giga_crystal_cap value = 2 }
					set_variable = { which = giga_terraform_barren_cap value = 2 }
					set_variable = { which = giga_shipyard_cap value = 2 }
					set_variable = { which = giga_suppressor_cap value = 2 }
					set_variable = { which = giga_geothermal_cap value = 2 }
					set_variable = { which = giga_hraemc_cap value = 2 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 2 }
					set_variable = { which = giga_stellarhabitat_cap value = 2 }
					set_variable = { which = giga_kugel_cap value = 2 }
					set_variable = { which = giga_disco_moon_cap value = 2 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 2 }
					set_variable = { which = giga_megabase_cap value = 2 }
					set_variable = { which = giga_matrioshka_brain_cap value = 2 }
					set_variable = { which = giga_gigaforge_cap value = 2 }
					set_variable = { which = giga_ndb_cap value = 2 }
					set_variable = { which = giga_nidavellir_cap value = 2 }
					set_variable = { which = giga_orbital_arcologies_cap value = 2 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 2 }
					set_variable = { which = giga_academy_cap value = 2 }
					set_variable = { which = giga_elysium_cap value = 2 }
					set_variable = { which = giga_penrose_sphere_cap value = 2 }
					set_variable = { which = giga_planetary_computer_cap value = 2 }
					set_variable = { which = giga_siphon_cap value = 2 }
					set_variable = { which = giga_quasistellar_cap value = 2 }
					set_variable = { which = giga_lifters_cap value = 2 }
					set_variable = { which = giga_accelerator_cap value = 2 }
					set_variable = { which = giga_systemcraft_cap value = 2 }
					set_variable = { which = giga_compressor_cap value = 2 }
					set_variable = { which = giga_succ_cap value = 2 }
					set_variable = { which = giga_orchid_cap value = 2 }
				}
			}
			else_if = {
				limit = { has_global_flag = giga_chose_2 }
				remove_global_flag = giga_chose_2
				set_global_flag = giga_chose_3
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 3 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 3 }
					set_variable = { which = giga_vanilla_matter_cap value = 3 }
					set_variable = { which = giga_vanilla_art_cap value = 3 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 3 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 3 }
					set_variable = { which = giga_vanilla_nexus_cap value = 3 }
					set_variable = { which = giga_vanilla_array_cap value = 3 }
					set_variable = { which = giga_vanilla_strategic_cap value = 3 }

					set_variable = { which = giga_ringworlds_cap value = 3 }
					set_variable = { which = giga_cityring_cap value = 3 }
					set_variable = { which = giga_hivering_cap value = 3 }
					set_variable = { which = giga_machinering_cap value = 3 }
					set_variable = { which = giga_upgrade_cap value = 3 }
					set_variable = { which = giga_alderson_cap value = 3 }
					set_variable = { which = giga_terraform_toxic_cap value = 3 }
					set_variable = { which = giga_drill_cap value = 3 }
					set_variable = { which = giga_warmoon_cap value = 3 }
					set_variable = { which = giga_warplanet_cap value = 3 }
					set_variable = { which = giga_birch_cap value = 3 }
					set_variable = { which = giga_crystal_cap value = 3 }
					set_variable = { which = giga_terraform_barren_cap value = 3 }
					set_variable = { which = giga_shipyard_cap value = 3 }
					set_variable = { which = giga_suppressor_cap value = 3 }
					set_variable = { which = giga_geothermal_cap value = 3 }
					set_variable = { which = giga_hraemc_cap value = 3 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 3 }
					set_variable = { which = giga_stellarhabitat_cap value = 3 }
					set_variable = { which = giga_kugel_cap value = 3 }
					set_variable = { which = giga_disco_moon_cap value = 3 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 3 }
					set_variable = { which = giga_megabase_cap value = 3 }
					set_variable = { which = giga_matrioshka_brain_cap value = 3 }
					set_variable = { which = giga_gigaforge_cap value = 3 }
					set_variable = { which = giga_ndb_cap value = 3 }
					set_variable = { which = giga_nidavellir_cap value = 3 }
					set_variable = { which = giga_orbital_arcologies_cap value = 3 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 3 }
					set_variable = { which = giga_academy_cap value = 3 }
					set_variable = { which = giga_elysium_cap value = 3 }
					set_variable = { which = giga_penrose_sphere_cap value = 3 }
					set_variable = { which = giga_planetary_computer_cap value = 3 }
					set_variable = { which = giga_siphon_cap value = 3 }
					set_variable = { which = giga_quasistellar_cap value = 3 }
					set_variable = { which = giga_lifters_cap value = 3 }
					set_variable = { which = giga_accelerator_cap value = 3 }
					set_variable = { which = giga_systemcraft_cap value = 3 }
					set_variable = { which = giga_compressor_cap value = 3 }
					set_variable = { which = giga_succ_cap value = 3 }
					set_variable = { which = giga_orchid_cap value = 3 }
				}
			}
			else_if = {
				limit = { has_global_flag = giga_chose_3 }
				remove_global_flag = giga_chose_3
				set_global_flag = giga_chose_u
				every_country = {
					set_variable = { which = giga_vanilla_dyson_cap value = 0 }
					set_variable = { which = giga_vanilla_interstellar_cap value = 0 }
					set_variable = { which = giga_vanilla_matter_cap value = 0 }
					set_variable = { which = giga_vanilla_art_cap value = 0 }
					set_variable = { which = giga_vanilla_shipyard_cap value = 0 }
					set_variable = { which = giga_vanilla_ringworld_cap value = 0 }
					set_variable = { which = giga_vanilla_nexus_cap value = 0 }
					set_variable = { which = giga_vanilla_array_cap value = 0 }
					set_variable = { which = giga_vanilla_strategic_cap value = 0 }

					set_variable = { which = giga_ringworlds_cap value = 0 }
					set_variable = { which = giga_cityring_cap value = 0 }
					set_variable = { which = giga_hivering_cap value = 0 }
					set_variable = { which = giga_machinering_cap value = 0 }
					set_variable = { which = giga_upgrade_cap value = 0 }
					set_variable = { which = giga_alderson_cap value = 0 }
					set_variable = { which = giga_terraform_toxic_cap value = 0 }
					set_variable = { which = giga_drill_cap value = 0 }
					set_variable = { which = giga_warmoon_cap value = 0 }
					set_variable = { which = giga_warplanet_cap value = 0 }
					set_variable = { which = giga_birch_cap value = 0 }
					set_variable = { which = giga_crystal_cap value = 0 }
					set_variable = { which = giga_terraform_barren_cap value = 0 }
					set_variable = { which = giga_shipyard_cap value = 0 }
					set_variable = { which = giga_suppressor_cap value = 0 }
					set_variable = { which = giga_geothermal_cap value = 0 }
					set_variable = { which = giga_hraemc_cap value = 0 }
					set_variable = { which = giga_hyperstructural_ass_cap value = 0 }
					set_variable = { which = giga_stellarhabitat_cap value = 0 }
					set_variable = { which = giga_kugel_cap value = 0 }
					set_variable = { which = giga_disco_moon_cap value = 0 }
					set_variable = { which = giga_terraform_gasgiant_cap value = 0 }
					set_variable = { which = giga_megabase_cap value = 0 }
					set_variable = { which = giga_matrioshka_brain_cap value = 0 }
					set_variable = { which = giga_gigaforge_cap value = 0 }
					set_variable = { which = giga_ndb_cap value = 0 }
					set_variable = { which = giga_nidavellir_cap value = 0 }
					set_variable = { which = giga_orbital_arcologies_cap value = 0 }
					set_variable = { which = giga_orbital_artificial_eco_cap value = 0 }
					set_variable = { which = giga_academy_cap value = 0 }
					set_variable = { which = giga_elysium_cap value = 0 }
					set_variable = { which = giga_penrose_sphere_cap value = 0 }
					set_variable = { which = giga_planetary_computer_cap value = 0 }
					set_variable = { which = giga_siphon_cap value = 0 }
					set_variable = { which = giga_quasistellar_cap value = 0 }
					set_variable = { which = giga_lifters_cap value = 0 }
					set_variable = { which = giga_accelerator_cap value = 0 }
					set_variable = { which = giga_systemcraft_cap value = 0 }
					set_variable = { which = giga_compressor_cap value = 0 }
					set_variable = { which = giga_succ_cap value = 0 }
					set_variable = { which = giga_orchid_cap value = 0 }
				}
			}
			country_event = { id = giga_menu.1 }
		}
	}

	# Megastructure Build cap
	option = {
		trigger = { NOT = { has_global_flag = giga_game_started } }
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.buildcap"
		custom_tooltip = "giga_menu.buildcap.tooltip"
		hidden_effect = {
			if = {
				limit = { has_global_flag = giga_build_infinite_megas }
				remove_global_flag = giga_build_infinite_megas
				every_country = { remove_modifier = "giga_no_build_cap" }
			}
			else = { set_global_flag = giga_build_infinite_megas }
			country_event = { id = giga_menu.1 }
		}
	}

	### Header ##############################################################################################################################################
	option = { name = "giga_menu.header.blank"			custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.header.presets"		custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.desc.presets"			custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#########################################################################################################################################################

	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.1" custom_tooltip = "giga_menu.3.preset.1.tooltip" hidden_effect = { giga_preset_01 = yes } }
	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.2" custom_tooltip = "giga_menu.3.preset.2.tooltip" hidden_effect = { giga_preset_02 = yes } }
	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.3" custom_tooltip = "giga_menu.3.preset.3.tooltip" hidden_effect = { giga_preset_03 = yes } }
	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.4" custom_tooltip = "giga_menu.3.preset.4.tooltip" hidden_effect = { giga_preset_04 = yes } }
	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.5" custom_tooltip = "giga_menu.3.preset.5.tooltip" hidden_effect = { giga_preset_05 = yes } }
	option = { custom_gui = "giga_main_menu_option" name = "giga_menu.3.preset.6" custom_tooltip = "giga_menu.3.preset.6.tooltip" hidden_effect = { giga_preset_06 = yes } trigger = { NOT = { has_global_flag = giga_game_started } } }

	### Header ######################################################################################################################################################################################################
	option = { trigger = { NOT = { has_global_flag = giga_game_started } } name = "giga_menu.header.blank"		custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { trigger = { NOT = { has_global_flag = giga_game_started } } name = "giga_menu.header.one_time"	custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { trigger = { NOT = { has_global_flag = giga_game_started } } name = "giga_menu.desc.one_time"		custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#################################################################################################################################################################################################################

	# FE Planetcraft
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.fe_planetcrafts"
		trigger = { NOT = { has_global_flag = giga_game_started } }
		hidden_effect = {
			if = {
				limit = { has_global_flag = fe_planetcrafts_disabled }
				remove_global_flag = fe_planetcrafts_disabled
			}
			else = { set_global_flag = fe_planetcrafts_disabled }
			country_event = { id = giga_menu.1 }
		}
	}

	# Galactic Core
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.galactic_core"
		trigger = { NOT = { has_global_flag = giga_game_started } }
		hidden_effect = {
			country_event = { id = giga_menu.1 }
			if = {
				limit = { has_global_flag = giga_core_disabled }
				remove_global_flag = giga_core_disabled
				set_global_flag = giga_core_inactive
			}
			else_if = {
				limit = { has_global_flag = giga_core_inactive }
				remove_global_flag = giga_core_inactive
				set_global_flag = giga_core_active
			}
			else_if = {
				limit = { has_global_flag = giga_core_active }
				remove_global_flag = giga_core_active
			}
			else = { set_global_flag = giga_core_disabled }
		}
	}

	# Galactic Federation
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.galactic_federation"
		trigger = { NOT = { has_global_flag = giga_game_started } }
		hidden_effect = {
			country_event = { id = giga_menu.1 }
			if = {
				limit = { has_global_flag = giga_galactic_fed_disabled }
				remove_global_flag = giga_galactic_fed_disabled
				set_global_flag = giga_galactic_fed_always
			}
			else_if = {
				limit = { has_global_flag = giga_galactic_fed_always }
				remove_global_flag = giga_galactic_fed_always
			}
			else = { set_global_flag = giga_galactic_fed_disabled }
		}
	}

	### Header ##################################################################################################################################################
	option = { name = "giga_menu.header.blank"				custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.header.megastructures"		custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.desc.megastructures_01"	custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#############################################################################################################################################################

	###########################################################################
	### vanilla_dyson #########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_dyson"
		custom_tooltip = "giga_menu.vanilla_dyson_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_dyson_disabled } }
					set_global_flag = vanilla_dyson_disabled
				}
				else = { remove_global_flag = vanilla_dyson_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 0 }
						NOT = { has_global_flag = vanilla_dyson_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 0 } }
					set_global_flag = vanilla_dyson_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 0 }
						has_global_flag = vanilla_dyson_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 1 } }
					remove_global_flag = vanilla_dyson_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 1 }
						NOT = { has_global_flag = vanilla_dyson_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 2 } }
					remove_global_flag = vanilla_dyson_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 2 }
						NOT = { has_global_flag = vanilla_dyson_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 3 } }
					remove_global_flag = vanilla_dyson_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 3 }
						NOT = { has_global_flag = vanilla_dyson_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_dyson_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_dyson_cap value = 100 } }
					}
					remove_global_flag = vanilla_dyson_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_dyson_cap value = 100 }
						NOT = { has_global_flag = vanilla_dyson_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_dyson_cap value = 0 } }
					remove_global_flag = vanilla_dyson_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_interstellar ##################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_interstellar"
		custom_tooltip = "giga_menu.vanilla_interstellar_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_interstellar_disabled } }
					set_global_flag = vanilla_interstellar_disabled
				}
				else = { remove_global_flag = vanilla_interstellar_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 0 }
						NOT = { has_global_flag = vanilla_interstellar_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 0 } }
					set_global_flag = vanilla_interstellar_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 0 }
						has_global_flag = vanilla_interstellar_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 1 } }
					remove_global_flag = vanilla_interstellar_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 1 }
						NOT = { has_global_flag = vanilla_interstellar_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 2 } }
					remove_global_flag = vanilla_interstellar_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 2 }
						NOT = { has_global_flag = vanilla_interstellar_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 3 } }
					remove_global_flag = vanilla_interstellar_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 3 }
						NOT = { has_global_flag = vanilla_interstellar_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_interstellar_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_interstellar_cap value = 100 } }
					}
					remove_global_flag = vanilla_interstellar_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_interstellar_cap value = 100 }
						NOT = { has_global_flag = vanilla_interstellar_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_interstellar_cap value = 0 } }
					remove_global_flag = vanilla_interstellar_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_matter ########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_matter"
		custom_tooltip = "giga_menu.vanilla_matter_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_matter_disabled } }
					set_global_flag = vanilla_matter_disabled
				}
				else = { remove_global_flag = vanilla_matter_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 0 }
						NOT = { has_global_flag = vanilla_matter_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_matter_cap value = 0 } }
					set_global_flag = vanilla_matter_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 0 }
						has_global_flag = vanilla_matter_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_matter_cap value = 1 } }
					remove_global_flag = vanilla_matter_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 1 }
						NOT = { has_global_flag = vanilla_matter_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_matter_cap value = 2 } }
					remove_global_flag = vanilla_matter_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 2 }
						NOT = { has_global_flag = vanilla_matter_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_matter_cap value = 3 } }
					remove_global_flag = vanilla_matter_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 3 }
						NOT = { has_global_flag = vanilla_matter_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_matter_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_matter_cap value = 100 } }
					}
					remove_global_flag = vanilla_matter_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_matter_cap value = 100 }
						NOT = { has_global_flag = vanilla_matter_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_matter_cap value = 0 } }
					remove_global_flag = vanilla_matter_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_art ###########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_art"
		custom_tooltip = "giga_menu.vanilla_art_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_art_disabled } }
					set_global_flag = vanilla_art_disabled
				}
				else = { remove_global_flag = vanilla_art_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 0 }
						NOT = { has_global_flag = vanilla_art_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_art_cap value = 0 } }
					set_global_flag = vanilla_art_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 0 }
						has_global_flag = vanilla_art_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_art_cap value = 1 } }
					remove_global_flag = vanilla_art_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 1 }
						NOT = { has_global_flag = vanilla_art_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_art_cap value = 2 } }
					remove_global_flag = vanilla_art_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 2 }
						NOT = { has_global_flag = vanilla_art_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_art_cap value = 3 } }
					remove_global_flag = vanilla_art_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 3 }
						NOT = { has_global_flag = vanilla_art_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_art_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_art_cap value = 100 } }
					}
					remove_global_flag = vanilla_art_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_art_cap value = 100 }
						NOT = { has_global_flag = vanilla_art_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_art_cap value = 0 } }
					remove_global_flag = vanilla_art_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_shipyard ######################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_shipyard"
		custom_tooltip = "giga_menu.vanilla_shipyard_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_shipyard_disabled } }
					set_global_flag = vanilla_shipyard_disabled
				}
				else = { remove_global_flag = vanilla_shipyard_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 0 }
						NOT = { has_global_flag = vanilla_shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 0 } }
					set_global_flag = vanilla_shipyard_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 0 }
						has_global_flag = vanilla_shipyard_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 1 } }
					remove_global_flag = vanilla_shipyard_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 1 }
						NOT = { has_global_flag = vanilla_shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 2 } }
					remove_global_flag = vanilla_shipyard_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 2 }
						NOT = { has_global_flag = vanilla_shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 3 } }
					remove_global_flag = vanilla_shipyard_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 3 }
						NOT = { has_global_flag = vanilla_shipyard_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_shipyard_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_shipyard_cap value = 100 } }
					}
					remove_global_flag = vanilla_shipyard_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_shipyard_cap value = 100 }
						NOT = { has_global_flag = vanilla_shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_shipyard_cap value = 0 } }
					remove_global_flag = vanilla_shipyard_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_ringworld #####################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_ringworld"
		custom_tooltip = "giga_menu.vanilla_ringworld_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_ringworld_disabled } }
					set_global_flag = vanilla_ringworld_disabled
				}
				else = { remove_global_flag = vanilla_ringworld_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 0 }
						NOT = { has_global_flag = vanilla_ringworld_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 0 } }
					set_global_flag = vanilla_ringworld_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 0 }
						has_global_flag = vanilla_ringworld_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 1 } }
					remove_global_flag = vanilla_ringworld_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 1 }
						NOT = { has_global_flag = vanilla_ringworld_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 2 } }
					remove_global_flag = vanilla_ringworld_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 2 }
						NOT = { has_global_flag = vanilla_ringworld_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 3 } }
					remove_global_flag = vanilla_ringworld_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 3 }
						NOT = { has_global_flag = vanilla_ringworld_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_ringworld_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_ringworld_cap value = 100 } }
					}
					remove_global_flag = vanilla_ringworld_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_ringworld_cap value = 100 }
						NOT = { has_global_flag = vanilla_ringworld_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_ringworld_cap value = 0 } }
					remove_global_flag = vanilla_ringworld_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_nexus #########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_nexus"
		custom_tooltip = "giga_menu.vanilla_nexus_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_nexus_disabled } }
					set_global_flag = vanilla_nexus_disabled
				}
				else = { remove_global_flag = vanilla_nexus_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 0 }
						NOT = { has_global_flag = vanilla_nexus_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 0 } }
					set_global_flag = vanilla_nexus_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 0 }
						has_global_flag = vanilla_nexus_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 1 } }
					remove_global_flag = vanilla_nexus_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 1 }
						NOT = { has_global_flag = vanilla_nexus_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 2 } }
					remove_global_flag = vanilla_nexus_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 2 }
						NOT = { has_global_flag = vanilla_nexus_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 3 } }
					remove_global_flag = vanilla_nexus_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 3 }
						NOT = { has_global_flag = vanilla_nexus_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_nexus_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_nexus_cap value = 100 } }
					}
					remove_global_flag = vanilla_nexus_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_nexus_cap value = 100 }
						NOT = { has_global_flag = vanilla_nexus_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_nexus_cap value = 0 } }
					remove_global_flag = vanilla_nexus_disabled
				}
			}
		}
	}

	###########################################################################
	### vanilla_array #########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_array"
		custom_tooltip = "giga_menu.vanilla_array_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu
			if = {
				limit = { NOT = { has_global_flag = vanilla_array_disabled } }
				set_global_flag = vanilla_array_disabled
			}
			else = { remove_global_flag = vanilla_array_disabled }
		}
	}

	###########################################################################
	### vanilla_strategic #####################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.vanilla_strategic"
		custom_tooltip = "giga_menu.vanilla_strategic_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = vanilla_strategic_disabled } }
					set_global_flag = vanilla_strategic_disabled
				}
				else = { remove_global_flag = vanilla_strategic_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 0 }
						NOT = { has_global_flag = vanilla_strategic_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 0 } }
					set_global_flag = vanilla_strategic_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 0 }
						has_global_flag = vanilla_strategic_disabled
					}
					every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 1 } }
					remove_global_flag = vanilla_strategic_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 1 }
						NOT = { has_global_flag = vanilla_strategic_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 2 } }
					remove_global_flag = vanilla_strategic_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 2 }
						NOT = { has_global_flag = vanilla_strategic_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 3 } }
					remove_global_flag = vanilla_strategic_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 3 }
						NOT = { has_global_flag = vanilla_strategic_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_vanilla_strategic_cap value = 0 }
						}
						else = { set_variable = { which = giga_vanilla_strategic_cap value = 100 } }
					}
					remove_global_flag = vanilla_strategic_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_vanilla_strategic_cap value = 100 }
						NOT = { has_global_flag = vanilla_strategic_disabled }
					}
					every_country = { set_variable = { which = giga_vanilla_strategic_cap value = 0 } }
					remove_global_flag = vanilla_strategic_disabled
				}
			}
		}
	}

	### Header ##################################################################################################################################################
	option = { name = "giga_menu.header.blank"				custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.desc.megastructures_02"	custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#############################################################################################################################################################

	# Ringworlds
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.ringworlds"
		hidden_effect = {
			country_event = { id = giga_menu.1 }
			if = {
				limit = { has_global_flag = ring_titanic_disabled }
				remove_global_flag = ring_titanic_disabled
				set_global_flag = ring_behemoth_disabled
			}
			else_if = {
				limit = { has_global_flag = ring_behemoth_disabled }
				remove_global_flag = ring_behemoth_disabled
				set_global_flag = ring_gargantuan_disabled
			}
			else_if = {
				limit = { has_global_flag = ring_gargantuan_disabled }
				remove_global_flag = ring_gargantuan_disabled
			}
			else = { set_global_flag = ring_titanic_disabled }
		}
	}

	###########################################################################
	### cityring ##############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.cityring"
		custom_tooltip = "giga_menu.cityring_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = cityring_disabled } }
					set_global_flag = cityring_disabled
				}
				else = { remove_global_flag = cityring_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 0 }
						NOT = { has_global_flag = cityring_disabled }
					}
					every_country = { set_variable = { which = giga_cityring_cap value = 0 } }
					set_global_flag = cityring_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 0 }
						has_global_flag = cityring_disabled
					}
					every_country = { set_variable = { which = giga_cityring_cap value = 1 } }
					remove_global_flag = cityring_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 1 }
						NOT = { has_global_flag = cityring_disabled }
					}
					every_country = { set_variable = { which = giga_cityring_cap value = 2 } }
					remove_global_flag = cityring_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 2 }
						NOT = { has_global_flag = cityring_disabled }
					}
					every_country = { set_variable = { which = giga_cityring_cap value = 3 } }
					remove_global_flag = cityring_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 3 }
						NOT = { has_global_flag = cityring_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_cityring_cap value = 0 }
						}
						else = { set_variable = { which = giga_cityring_cap value = 100 } }
					}
					remove_global_flag = cityring_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_cityring_cap value = 100 }
						NOT = { has_global_flag = cityring_disabled }
					}
					every_country = { set_variable = { which = giga_cityring_cap value = 0 } }
					remove_global_flag = cityring_disabled
				}
			}
		}
	}

	###########################################################################
	### hivering ##############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.hivering"
		custom_tooltip = "giga_menu.hivering_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = hivering_disabled } }
					set_global_flag = hivering_disabled
				}
				else = { remove_global_flag = hivering_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 0 }
						NOT = { has_global_flag = hivering_disabled }
					}
					every_country = { set_variable = { which = giga_hivering_cap value = 0 } }
					set_global_flag = hivering_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 0 }
						has_global_flag = hivering_disabled
					}
					every_country = { set_variable = { which = giga_hivering_cap value = 1 } }
					remove_global_flag = hivering_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 1 }
						NOT = { has_global_flag = hivering_disabled }
					}
					every_country = { set_variable = { which = giga_hivering_cap value = 2 } }
					remove_global_flag = hivering_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 2 }
						NOT = { has_global_flag = hivering_disabled }
					}
					every_country = { set_variable = { which = giga_hivering_cap value = 3 } }
					remove_global_flag = hivering_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 3 }
						NOT = { has_global_flag = hivering_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_hivering_cap value = 0 }
						}
						else = { set_variable = { which = giga_hivering_cap value = 100 } }
					}
					remove_global_flag = hivering_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_hivering_cap value = 100 }
						NOT = { has_global_flag = hivering_disabled }
					}
					every_country = { set_variable = { which = giga_hivering_cap value = 0 } }
					remove_global_flag = hivering_disabled
				}
			}
		}
	}

	###########################################################################
	### machinering ###########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.machinering"
		custom_tooltip = "giga_menu.machinering_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = machinering_disabled } }
					set_global_flag = machinering_disabled
				}
				else = { remove_global_flag = machinering_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 0 }
						NOT = { has_global_flag = machinering_disabled }
					}
					every_country = { set_variable = { which = giga_machinering_cap value = 0 } }
					set_global_flag = machinering_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 0 }
						has_global_flag = machinering_disabled
					}
					every_country = { set_variable = { which = giga_machinering_cap value = 1 } }
					remove_global_flag = machinering_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 1 }
						NOT = { has_global_flag = machinering_disabled }
					}
					every_country = { set_variable = { which = giga_machinering_cap value = 2 } }
					remove_global_flag = machinering_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 2 }
						NOT = { has_global_flag = machinering_disabled }
					}
					every_country = { set_variable = { which = giga_machinering_cap value = 3 } }
					remove_global_flag = machinering_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 3 }
						NOT = { has_global_flag = machinering_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_machinering_cap value = 0 }
						}
						else = { set_variable = { which = giga_machinering_cap value = 100 } }
					}
					remove_global_flag = machinering_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_machinering_cap value = 100 }
						NOT = { has_global_flag = machinering_disabled }
					}
					every_country = { set_variable = { which = giga_machinering_cap value = 0 } }
					remove_global_flag = machinering_disabled
				}
			}
		}
	}

	###########################################################################
	### upgrade ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.upgrade"
		custom_tooltip = "giga_menu.upgrade_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = upgrade_disabled } }
					set_global_flag = upgrade_disabled
				}
				else = { remove_global_flag = upgrade_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 0 }
						NOT = { has_global_flag = upgrade_disabled }
					}
					every_country = { set_variable = { which = giga_upgrade_cap value = 0 } }
					set_global_flag = upgrade_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 0 }
						has_global_flag = upgrade_disabled
					}
					every_country = { set_variable = { which = giga_upgrade_cap value = 1 } }
					remove_global_flag = upgrade_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 1 }
						NOT = { has_global_flag = upgrade_disabled }
					}
					every_country = { set_variable = { which = giga_upgrade_cap value = 2 } }
					remove_global_flag = upgrade_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 2 }
						NOT = { has_global_flag = upgrade_disabled }
					}
					every_country = { set_variable = { which = giga_upgrade_cap value = 3 } }
					remove_global_flag = upgrade_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 3 }
						NOT = { has_global_flag = upgrade_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_upgrade_cap value = 0 }
						}
						else = { set_variable = { which = giga_upgrade_cap value = 100 } }
					}
					remove_global_flag = upgrade_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_upgrade_cap value = 100 }
						NOT = { has_global_flag = upgrade_disabled }
					}
					every_country = { set_variable = { which = giga_upgrade_cap value = 0 } }
					remove_global_flag = upgrade_disabled
				}
			}
		}
	}

	### Header ##################################################################################################################################################
	option = { name = "giga_menu.header.blank"				custom_gui = "giga_main_menu_header"		is_dialog_only = yes response_text = "giga_menu.1.desc" }
	option = { name = "giga_menu.desc.megastructures_03"	custom_gui = "giga_main_menu_header_desc"	is_dialog_only = yes response_text = "giga_menu.1.desc" }
	#############################################################################################################################################################

	###########################################################################
	### alderson ##############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.alderson"
		custom_tooltip = "giga_menu.alderson_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = alderson_disabled } }
					set_global_flag = alderson_disabled
				}
				else = { remove_global_flag = alderson_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 0 }
						NOT = { has_global_flag = alderson_disabled }
					}
					every_country = { set_variable = { which = giga_alderson_cap value = 0 } }
					set_global_flag = alderson_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 0 }
						has_global_flag = alderson_disabled
					}
					every_country = { set_variable = { which = giga_alderson_cap value = 1 } }
					remove_global_flag = alderson_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 1 }
						NOT = { has_global_flag = alderson_disabled }
					}
					every_country = { set_variable = { which = giga_alderson_cap value = 2 } }
					remove_global_flag = alderson_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 2 }
						NOT = { has_global_flag = alderson_disabled }
					}
					every_country = { set_variable = { which = giga_alderson_cap value = 3 } }
					remove_global_flag = alderson_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 3 }
						NOT = { has_global_flag = alderson_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_alderson_cap value = 0 }
						}
						else = { set_variable = { which = giga_alderson_cap value = 100 } }
					}
					remove_global_flag = alderson_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_alderson_cap value = 100 }
						NOT = { has_global_flag = alderson_disabled }
					}
					every_country = { set_variable = { which = giga_alderson_cap value = 0 } }
					remove_global_flag = alderson_disabled
				}
			}
		}
	}

	###########################################################################
	### terraform_toxic #######################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.terraform_toxic"
		custom_tooltip = "giga_menu.terraform_toxic_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = terraform_toxic_disabled } }
					set_global_flag = terraform_toxic_disabled
				}
				else = { remove_global_flag = terraform_toxic_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 0 }
						NOT = { has_global_flag = terraform_toxic_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_toxic_cap value = 0 } }
					set_global_flag = terraform_toxic_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 0 }
						has_global_flag = terraform_toxic_disabled
					}
					every_country = { set_variable = { which = giga_terraform_toxic_cap value = 1 } }
					remove_global_flag = terraform_toxic_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 1 }
						NOT = { has_global_flag = terraform_toxic_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_toxic_cap value = 2 } }
					remove_global_flag = terraform_toxic_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 2 }
						NOT = { has_global_flag = terraform_toxic_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_toxic_cap value = 3 } }
					remove_global_flag = terraform_toxic_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 3 }
						NOT = { has_global_flag = terraform_toxic_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_terraform_toxic_cap value = 0 }
						}
						else = { set_variable = { which = giga_terraform_toxic_cap value = 100 } }
					}
					remove_global_flag = terraform_toxic_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_toxic_cap value = 100 }
						NOT = { has_global_flag = terraform_toxic_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_toxic_cap value = 0 } }
					remove_global_flag = terraform_toxic_disabled
				}
			}
		}
	}

	###########################################################################
	### warmoon ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.warmoon"
		custom_tooltip = "giga_menu.warmoon_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = warmoon_disabled } }
					set_global_flag = warmoon_disabled
				}
				else = { remove_global_flag = warmoon_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 0 }
						NOT = { has_global_flag = warmoon_disabled }
					}
					every_country = { set_variable = { which = giga_warmoon_cap value = 0 } }
					set_global_flag = warmoon_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 0 }
						has_global_flag = warmoon_disabled
					}
					every_country = { set_variable = { which = giga_warmoon_cap value = 1 } }
					remove_global_flag = warmoon_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 1 }
						NOT = { has_global_flag = warmoon_disabled }
					}
					every_country = { set_variable = { which = giga_warmoon_cap value = 2 } }
					remove_global_flag = warmoon_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 2 }
						NOT = { has_global_flag = warmoon_disabled }
					}
					every_country = { set_variable = { which = giga_warmoon_cap value = 3 } }
					remove_global_flag = warmoon_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 3 }
						NOT = { has_global_flag = warmoon_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_warmoon_cap value = 0 }
						}
						else = { set_variable = { which = giga_warmoon_cap value = 100 } }
					}
					remove_global_flag = warmoon_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_warmoon_cap value = 100 }
						NOT = { has_global_flag = warmoon_disabled }
					}
					every_country = { set_variable = { which = giga_warmoon_cap value = 0 } }
					remove_global_flag = warmoon_disabled
				}
			}
		}
	}

	###########################################################################
	### drill #################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.drill"
		custom_tooltip = "giga_menu.drill_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = drill_disabled } }
					set_global_flag = drill_disabled
				}
				else = { remove_global_flag = drill_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 0 }
						NOT = { has_global_flag = drill_disabled }
					}
					every_country = { set_variable = { which = giga_drill_cap value = 0 } }
					set_global_flag = drill_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 0 }
						has_global_flag = drill_disabled
					}
					every_country = { set_variable = { which = giga_drill_cap value = 1 } }
					remove_global_flag = drill_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 1 }
						NOT = { has_global_flag = drill_disabled }
					}
					every_country = { set_variable = { which = giga_drill_cap value = 2 } }
					remove_global_flag = drill_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 2 }
						NOT = { has_global_flag = drill_disabled }
					}
					every_country = { set_variable = { which = giga_drill_cap value = 3 } }
					remove_global_flag = drill_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 3 }
						NOT = { has_global_flag = drill_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_drill_cap value = 0 }
						}
						else = { set_variable = { which = giga_drill_cap value = 100 } }
					}
					remove_global_flag = drill_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_drill_cap value = 100 }
						NOT = { has_global_flag = drill_disabled }
					}
					every_country = { set_variable = { which = giga_drill_cap value = 0 } }
					remove_global_flag = drill_disabled
				}
			}
		}
	}

	###########################################################################
	### warplanet #############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.warplanet"
		custom_tooltip = "giga_menu.warplanet_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = warplanet_disabled } }
					set_global_flag = warplanet_disabled
				}
				else = { remove_global_flag = warplanet_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 0 }
						NOT = { has_global_flag = warplanet_disabled }
					}
					every_country = { set_variable = { which = giga_warplanet_cap value = 0 } }
					set_global_flag = warplanet_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 0 }
						has_global_flag = warplanet_disabled
					}
					every_country = { set_variable = { which = giga_warplanet_cap value = 1 } }
					remove_global_flag = warplanet_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 1 }
						NOT = { has_global_flag = warplanet_disabled }
					}
					every_country = { set_variable = { which = giga_warplanet_cap value = 2 } }
					remove_global_flag = warplanet_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 2 }
						NOT = { has_global_flag = warplanet_disabled }
					}
					every_country = { set_variable = { which = giga_warplanet_cap value = 3 } }
					remove_global_flag = warplanet_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 3 }
						NOT = { has_global_flag = warplanet_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_warplanet_cap value = 0 }
						}
						else = { set_variable = { which = giga_warplanet_cap value = 100 } }
					}
					remove_global_flag = warplanet_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_warplanet_cap value = 100 }
						NOT = { has_global_flag = warplanet_disabled }
					}
					every_country = { set_variable = { which = giga_warplanet_cap value = 0 } }
					remove_global_flag = warplanet_disabled
				}
			}
		}
	}

	###########################################################################
	### birch #################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.birch"
		custom_tooltip = "giga_menu.birch_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu
			if = {
				limit = { NOT = { has_global_flag = birch_disabled } }
				set_global_flag = birch_disabled
			}
			else = { remove_global_flag = birch_disabled }
		}
	}

	###########################################################################
	### crystal ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.crystal"
		custom_tooltip = "giga_menu.crystal_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = crystal_disabled } }
					set_global_flag = crystal_disabled
				}
				else = { remove_global_flag = crystal_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 0 }
						NOT = { has_global_flag = crystal_disabled }
					}
					every_country = { set_variable = { which = giga_crystal_cap value = 0 } }
					set_global_flag = crystal_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 0 }
						has_global_flag = crystal_disabled
					}
					every_country = { set_variable = { which = giga_crystal_cap value = 1 } }
					remove_global_flag = crystal_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 1 }
						NOT = { has_global_flag = crystal_disabled }
					}
					every_country = { set_variable = { which = giga_crystal_cap value = 2 } }
					remove_global_flag = crystal_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 2 }
						NOT = { has_global_flag = crystal_disabled }
					}
					every_country = { set_variable = { which = giga_crystal_cap value = 3 } }
					remove_global_flag = crystal_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 3 }
						NOT = { has_global_flag = crystal_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_crystal_cap value = 0 }
						}
						else = { set_variable = { which = giga_crystal_cap value = 100 } }
					}
					remove_global_flag = crystal_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_crystal_cap value = 100 }
						NOT = { has_global_flag = crystal_disabled }
					}
					every_country = { set_variable = { which = giga_crystal_cap value = 0 } }
					remove_global_flag = crystal_disabled
				}
			}
		}
	}

	###########################################################################
	### terraform_barren ######################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.terraform_barren"
		custom_tooltip = "giga_menu.terraform_barren_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = terraform_barren_disabled } }
					set_global_flag = terraform_barren_disabled
				}
				else = { remove_global_flag = terraform_barren_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 0 }
						NOT = { has_global_flag = terraform_barren_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_barren_cap value = 0 } }
					set_global_flag = terraform_barren_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 0 }
						has_global_flag = terraform_barren_disabled
					}
					every_country = { set_variable = { which = giga_terraform_barren_cap value = 1 } }
					remove_global_flag = terraform_barren_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 1 }
						NOT = { has_global_flag = terraform_barren_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_barren_cap value = 2 } }
					remove_global_flag = terraform_barren_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 2 }
						NOT = { has_global_flag = terraform_barren_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_barren_cap value = 3 } }
					remove_global_flag = terraform_barren_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 3 }
						NOT = { has_global_flag = terraform_barren_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_terraform_barren_cap value = 0 }
						}
						else = { set_variable = { which = giga_terraform_barren_cap value = 100 } }
					}
					remove_global_flag = terraform_barren_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_barren_cap value = 100 }
						NOT = { has_global_flag = terraform_barren_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_barren_cap value = 0 } }
					remove_global_flag = terraform_barren_disabled
				}
			}
		}
	}

	###########################################################################
	### shipyard ##############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.shipyard"
		custom_tooltip = "giga_menu.shipyard_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = shipyard_disabled } }
					set_global_flag = shipyard_disabled
				}
				else = { remove_global_flag = shipyard_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 0 }
						NOT = { has_global_flag = shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_shipyard_cap value = 0 } }
					set_global_flag = shipyard_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 0 }
						has_global_flag = shipyard_disabled
					}
					every_country = { set_variable = { which = giga_shipyard_cap value = 1 } }
					remove_global_flag = shipyard_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 1 }
						NOT = { has_global_flag = shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_shipyard_cap value = 2 } }
					remove_global_flag = shipyard_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 2 }
						NOT = { has_global_flag = shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_shipyard_cap value = 3 } }
					remove_global_flag = shipyard_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 3 }
						NOT = { has_global_flag = shipyard_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_shipyard_cap value = 0 }
						}
						else = { set_variable = { which = giga_shipyard_cap value = 100 } }
					}
					remove_global_flag = shipyard_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_shipyard_cap value = 100 }
						NOT = { has_global_flag = shipyard_disabled }
					}
					every_country = { set_variable = { which = giga_shipyard_cap value = 0 } }
					remove_global_flag = shipyard_disabled
				}
			}
		}
	}

	###########################################################################
	### suppressor ############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.suppressor"
		custom_tooltip = "giga_menu.suppressor_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = suppressor_disabled } }
					set_global_flag = suppressor_disabled
				}
				else = { remove_global_flag = suppressor_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 0 }
						NOT = { has_global_flag = suppressor_disabled }
					}
					every_country = { set_variable = { which = giga_suppressor_cap value = 0 } }
					set_global_flag = suppressor_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 0 }
						has_global_flag = suppressor_disabled
					}
					every_country = { set_variable = { which = giga_suppressor_cap value = 1 } }
					remove_global_flag = suppressor_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 1 }
						NOT = { has_global_flag = suppressor_disabled }
					}
					every_country = { set_variable = { which = giga_suppressor_cap value = 2 } }
					remove_global_flag = suppressor_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 2 }
						NOT = { has_global_flag = suppressor_disabled }
					}
					every_country = { set_variable = { which = giga_suppressor_cap value = 3 } }
					remove_global_flag = suppressor_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 3 }
						NOT = { has_global_flag = suppressor_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_suppressor_cap value = 0 }
						}
						else = { set_variable = { which = giga_suppressor_cap value = 100 } }
					}
					remove_global_flag = suppressor_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_suppressor_cap value = 100 }
						NOT = { has_global_flag = suppressor_disabled }
					}
					every_country = { set_variable = { which = giga_suppressor_cap value = 0 } }
					remove_global_flag = suppressor_disabled
				}
			}
		}
	}

	###########################################################################
	### geothermal ############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.geothermal"
		custom_tooltip = "giga_menu.geothermal_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = geothermal_disabled } }
					set_global_flag = geothermal_disabled
				}
				else = { remove_global_flag = geothermal_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 0 }
						NOT = { has_global_flag = geothermal_disabled }
					}
					every_country = { set_variable = { which = giga_geothermal_cap value = 0 } }
					set_global_flag = geothermal_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 0 }
						has_global_flag = geothermal_disabled
					}
					every_country = { set_variable = { which = giga_geothermal_cap value = 1 } }
					remove_global_flag = geothermal_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 1 }
						NOT = { has_global_flag = geothermal_disabled }
					}
					every_country = { set_variable = { which = giga_geothermal_cap value = 2 } }
					remove_global_flag = geothermal_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 2 }
						NOT = { has_global_flag = geothermal_disabled }
					}
					every_country = { set_variable = { which = giga_geothermal_cap value = 3 } }
					remove_global_flag = geothermal_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 3 }
						NOT = { has_global_flag = geothermal_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_geothermal_cap value = 0 }
						}
						else = { set_variable = { which = giga_geothermal_cap value = 100 } }
					}
					remove_global_flag = geothermal_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_geothermal_cap value = 100 }
						NOT = { has_global_flag = geothermal_disabled }
					}
					every_country = { set_variable = { which = giga_geothermal_cap value = 0 } }
					remove_global_flag = geothermal_disabled
				}
			}
		}
	}

	###########################################################################
	### hraemc ################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.hraemc"
		custom_tooltip = "giga_menu.hraemc_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = hraemc_disabled } }
					set_global_flag = hraemc_disabled
				}
				else = { remove_global_flag = hraemc_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 0 }
						NOT = { has_global_flag = hraemc_disabled }
					}
					every_country = { set_variable = { which = giga_hraemc_cap value = 0 } }
					set_global_flag = hraemc_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 0 }
						has_global_flag = hraemc_disabled
					}
					every_country = { set_variable = { which = giga_hraemc_cap value = 1 } }
					remove_global_flag = hraemc_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 1 }
						NOT = { has_global_flag = hraemc_disabled }
					}
					every_country = { set_variable = { which = giga_hraemc_cap value = 2 } }
					remove_global_flag = hraemc_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 2 }
						NOT = { has_global_flag = hraemc_disabled }
					}
					every_country = { set_variable = { which = giga_hraemc_cap value = 3 } }
					remove_global_flag = hraemc_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 3 }
						NOT = { has_global_flag = hraemc_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_hraemc_cap value = 0 }
						}
						else = { set_variable = { which = giga_hraemc_cap value = 100 } }
					}
					remove_global_flag = hraemc_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_hraemc_cap value = 100 }
						NOT = { has_global_flag = hraemc_disabled }
					}
					every_country = { set_variable = { which = giga_hraemc_cap value = 0 } }
					remove_global_flag = hraemc_disabled
				}
			}
		}
	}

	###########################################################################
	### hyperstructural_ass ###################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.hyperstructural_ass"
		custom_tooltip = "giga_menu.hyperstructural_ass_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = hyperstructural_ass_disabled } }
					set_global_flag = hyperstructural_ass_disabled
				}
				else = { remove_global_flag = hyperstructural_ass_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 0 }
						NOT = { has_global_flag = hyperstructural_ass_disabled }
					}
					every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 0 } }
					set_global_flag = hyperstructural_ass_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 0 }
						has_global_flag = hyperstructural_ass_disabled
					}
					every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 1 } }
					remove_global_flag = hyperstructural_ass_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 1 }
						NOT = { has_global_flag = hyperstructural_ass_disabled }
					}
					every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 2 } }
					remove_global_flag = hyperstructural_ass_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 2 }
						NOT = { has_global_flag = hyperstructural_ass_disabled }
					}
					every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 3 } }
					remove_global_flag = hyperstructural_ass_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 3 }
						NOT = { has_global_flag = hyperstructural_ass_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_hyperstructural_ass_cap value = 0 }
						}
						else = { set_variable = { which = giga_hyperstructural_ass_cap value = 100 } }
					}
					remove_global_flag = hyperstructural_ass_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_hyperstructural_ass_cap value = 100 }
						NOT = { has_global_flag = hyperstructural_ass_disabled }
					}
					every_country = { set_variable = { which = giga_hyperstructural_ass_cap value = 0 } }
					remove_global_flag = hyperstructural_ass_disabled
				}
			}
		}
	}

	###########################################################################
	### stellarhabitat ########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.stellarhabitat"
		custom_tooltip = "giga_menu.stellarhabitat_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = stellarhabitat_disabled } }
					set_global_flag = stellarhabitat_disabled
				}
				else = { remove_global_flag = stellarhabitat_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 0 }
						NOT = { has_global_flag = stellarhabitat_disabled }
					}
					every_country = { set_variable = { which = giga_stellarhabitat_cap value = 0 } }
					set_global_flag = stellarhabitat_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 0 }
						has_global_flag = stellarhabitat_disabled
					}
					every_country = { set_variable = { which = giga_stellarhabitat_cap value = 1 } }
					remove_global_flag = stellarhabitat_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 1 }
						NOT = { has_global_flag = stellarhabitat_disabled }
					}
					every_country = { set_variable = { which = giga_stellarhabitat_cap value = 2 } }
					remove_global_flag = stellarhabitat_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 2 }
						NOT = { has_global_flag = stellarhabitat_disabled }
					}
					every_country = { set_variable = { which = giga_stellarhabitat_cap value = 3 } }
					remove_global_flag = stellarhabitat_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 3 }
						NOT = { has_global_flag = stellarhabitat_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_stellarhabitat_cap value = 0 }
						}
						else = { set_variable = { which = giga_stellarhabitat_cap value = 100 } }
					}
					remove_global_flag = stellarhabitat_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_stellarhabitat_cap value = 100 }
						NOT = { has_global_flag = stellarhabitat_disabled }
					}
					every_country = { set_variable = { which = giga_stellarhabitat_cap value = 0 } }
					remove_global_flag = stellarhabitat_disabled
				}
			}
		}
	}

	###########################################################################
	### kugel #################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.kugel"
		custom_tooltip = "giga_menu.kugel_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = kugel_disabled } }
					set_global_flag = kugel_disabled
				}
				else = { remove_global_flag = kugel_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 0 }
						NOT = { has_global_flag = kugel_disabled }
					}
					every_country = { set_variable = { which = giga_kugel_cap value = 0 } }
					set_global_flag = kugel_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 0 }
						has_global_flag = kugel_disabled
					}
					every_country = { set_variable = { which = giga_kugel_cap value = 1 } }
					remove_global_flag = kugel_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 1 }
						NOT = { has_global_flag = kugel_disabled }
					}
					every_country = { set_variable = { which = giga_kugel_cap value = 2 } }
					remove_global_flag = kugel_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 2 }
						NOT = { has_global_flag = kugel_disabled }
					}
					every_country = { set_variable = { which = giga_kugel_cap value = 3 } }
					remove_global_flag = kugel_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 3 }
						NOT = { has_global_flag = kugel_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_kugel_cap value = 0 }
						}
						else = { set_variable = { which = giga_kugel_cap value = 100 } }
					}
					remove_global_flag = kugel_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_kugel_cap value = 100 }
						NOT = { has_global_flag = kugel_disabled }
					}
					every_country = { set_variable = { which = giga_kugel_cap value = 0 } }
					remove_global_flag = kugel_disabled
				}
			}
		}
	}

	###########################################################################
	### disco_moon ############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.disco_moon"
		custom_tooltip = "giga_menu.disco_moon_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = disco_moon_disabled } }
					set_global_flag = disco_moon_disabled
				}
				else = { remove_global_flag = disco_moon_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 0 }
						NOT = { has_global_flag = disco_moon_disabled }
					}
					every_country = { set_variable = { which = giga_disco_moon_cap value = 0 } }
					set_global_flag = disco_moon_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 0 }
						has_global_flag = disco_moon_disabled
					}
					every_country = { set_variable = { which = giga_disco_moon_cap value = 1 } }
					remove_global_flag = disco_moon_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 1 }
						NOT = { has_global_flag = disco_moon_disabled }
					}
					every_country = { set_variable = { which = giga_disco_moon_cap value = 2 } }
					remove_global_flag = disco_moon_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 2 }
						NOT = { has_global_flag = disco_moon_disabled }
					}
					every_country = { set_variable = { which = giga_disco_moon_cap value = 3 } }
					remove_global_flag = disco_moon_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 3 }
						NOT = { has_global_flag = disco_moon_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_disco_moon_cap value = 0 }
						}
						else = { set_variable = { which = giga_disco_moon_cap value = 100 } }
					}
					remove_global_flag = disco_moon_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_disco_moon_cap value = 100 }
						NOT = { has_global_flag = disco_moon_disabled }
					}
					every_country = { set_variable = { which = giga_disco_moon_cap value = 0 } }
					remove_global_flag = disco_moon_disabled
				}
			}
		}
	}

	###########################################################################
	### terraform_gasgiant ####################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.terraform_gasgiant"
		custom_tooltip = "giga_menu.terraform_gasgiant_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = terraform_gasgiant_disabled } }
					set_global_flag = terraform_gasgiant_disabled
				}
				else = { remove_global_flag = terraform_gasgiant_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 0 }
						NOT = { has_global_flag = terraform_gasgiant_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 0 } }
					set_global_flag = terraform_gasgiant_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 0 }
						has_global_flag = terraform_gasgiant_disabled
					}
					every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 1 } }
					remove_global_flag = terraform_gasgiant_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 1 }
						NOT = { has_global_flag = terraform_gasgiant_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 2 } }
					remove_global_flag = terraform_gasgiant_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 2 }
						NOT = { has_global_flag = terraform_gasgiant_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 3 } }
					remove_global_flag = terraform_gasgiant_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 3 }
						NOT = { has_global_flag = terraform_gasgiant_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_terraform_gasgiant_cap value = 0 }
						}
						else = { set_variable = { which = giga_terraform_gasgiant_cap value = 100 } }
					}
					remove_global_flag = terraform_gasgiant_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_terraform_gasgiant_cap value = 100 }
						NOT = { has_global_flag = terraform_gasgiant_disabled }
					}
					every_country = { set_variable = { which = giga_terraform_gasgiant_cap value = 0 } }
					remove_global_flag = terraform_gasgiant_disabled
				}
			}
		}
	}

	###########################################################################
	### megabase ##############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.megabase"
		custom_tooltip = "giga_menu.megabase_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = megabase_disabled } }
					set_global_flag = megabase_disabled
				}
				else = { remove_global_flag = megabase_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 0 }
						NOT = { has_global_flag = megabase_disabled }
					}
					every_country = { set_variable = { which = giga_megabase_cap value = 0 } }
					set_global_flag = megabase_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 0 }
						has_global_flag = megabase_disabled
					}
					every_country = { set_variable = { which = giga_megabase_cap value = 1 } }
					remove_global_flag = megabase_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 1 }
						NOT = { has_global_flag = megabase_disabled }
					}
					every_country = { set_variable = { which = giga_megabase_cap value = 2 } }
					remove_global_flag = megabase_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 2 }
						NOT = { has_global_flag = megabase_disabled }
					}
					every_country = { set_variable = { which = giga_megabase_cap value = 3 } }
					remove_global_flag = megabase_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 3 }
						NOT = { has_global_flag = megabase_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_megabase_cap value = 0 }
						}
						else = { set_variable = { which = giga_megabase_cap value = 100 } }
					}
					remove_global_flag = megabase_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_megabase_cap value = 100 }
						NOT = { has_global_flag = megabase_disabled }
					}
					every_country = { set_variable = { which = giga_megabase_cap value = 0 } }
					remove_global_flag = megabase_disabled
				}
			}
		}
	}

	###########################################################################
	### matrioshka_brain ######################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.matrioshka_brain"
		custom_tooltip = "giga_menu.matrioshka_brain_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = matrioshka_brain_disabled } }
					set_global_flag = matrioshka_brain_disabled
				}
				else = { remove_global_flag = matrioshka_brain_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 0 }
						NOT = { has_global_flag = matrioshka_brain_disabled }
					}
					every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 0 } }
					set_global_flag = matrioshka_brain_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 0 }
						has_global_flag = matrioshka_brain_disabled
					}
					every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 1 } }
					remove_global_flag = matrioshka_brain_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 1 }
						NOT = { has_global_flag = matrioshka_brain_disabled }
					}
					every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 2 } }
					remove_global_flag = matrioshka_brain_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 2 }
						NOT = { has_global_flag = matrioshka_brain_disabled }
					}
					every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 3 } }
					remove_global_flag = matrioshka_brain_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 3 }
						NOT = { has_global_flag = matrioshka_brain_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_matrioshka_brain_cap value = 0 }
						}
						else = { set_variable = { which = giga_matrioshka_brain_cap value = 100 } }
					}
					remove_global_flag = matrioshka_brain_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_matrioshka_brain_cap value = 100 }
						NOT = { has_global_flag = matrioshka_brain_disabled }
					}
					every_country = { set_variable = { which = giga_matrioshka_brain_cap value = 0 } }
					remove_global_flag = matrioshka_brain_disabled
				}
			}
		}
	}

	###########################################################################
	### gigaforge #############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.gigaforge"
		custom_tooltip = "giga_menu.gigaforge_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = gigaforge_disabled } }
					set_global_flag = gigaforge_disabled
				}
				else = { remove_global_flag = gigaforge_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 0 }
						NOT = { has_global_flag = gigaforge_disabled }
					}
					every_country = { set_variable = { which = giga_gigaforge_cap value = 0 } }
					set_global_flag = gigaforge_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 0 }
						has_global_flag = gigaforge_disabled
					}
					every_country = { set_variable = { which = giga_gigaforge_cap value = 1 } }
					remove_global_flag = gigaforge_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 1 }
						NOT = { has_global_flag = gigaforge_disabled }
					}
					every_country = { set_variable = { which = giga_gigaforge_cap value = 2 } }
					remove_global_flag = gigaforge_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 2 }
						NOT = { has_global_flag = gigaforge_disabled }
					}
					every_country = { set_variable = { which = giga_gigaforge_cap value = 3 } }
					remove_global_flag = gigaforge_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 3 }
						NOT = { has_global_flag = gigaforge_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_gigaforge_cap value = 0 }
						}
						else = { set_variable = { which = giga_gigaforge_cap value = 100 } }
					}
					remove_global_flag = gigaforge_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_gigaforge_cap value = 100 }
						NOT = { has_global_flag = gigaforge_disabled }
					}
					every_country = { set_variable = { which = giga_gigaforge_cap value = 0 } }
					remove_global_flag = gigaforge_disabled
				}
			}
		}
	}

	###########################################################################
	### ndb ###################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.ndb"
		custom_tooltip = "giga_menu.ndb_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = ndb_disabled } }
					set_global_flag = ndb_disabled
				}
				else = { remove_global_flag = ndb_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 0 }
						NOT = { has_global_flag = ndb_disabled }
					}
					every_country = { set_variable = { which = giga_ndb_cap value = 0 } }
					set_global_flag = ndb_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 0 }
						has_global_flag = ndb_disabled
					}
					every_country = { set_variable = { which = giga_ndb_cap value = 1 } }
					remove_global_flag = ndb_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 1 }
						NOT = { has_global_flag = ndb_disabled }
					}
					every_country = { set_variable = { which = giga_ndb_cap value = 2 } }
					remove_global_flag = ndb_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 2 }
						NOT = { has_global_flag = ndb_disabled }
					}
					every_country = { set_variable = { which = giga_ndb_cap value = 3 } }
					remove_global_flag = ndb_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 3 }
						NOT = { has_global_flag = ndb_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_ndb_cap value = 0 }
						}
						else = { set_variable = { which = giga_ndb_cap value = 100 } }
					}
					remove_global_flag = ndb_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_ndb_cap value = 100 }
						NOT = { has_global_flag = ndb_disabled }
					}
					every_country = { set_variable = { which = giga_ndb_cap value = 0 } }
					remove_global_flag = ndb_disabled
				}
			}
		}
	}

	###########################################################################
	### nidavellir ############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.nidavellir"
		custom_tooltip = "giga_menu.nidavellir_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = nidavellir_disabled } }
					set_global_flag = nidavellir_disabled
				}
				else = { remove_global_flag = nidavellir_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 0 }
						NOT = { has_global_flag = nidavellir_disabled }
					}
					every_country = { set_variable = { which = giga_nidavellir_cap value = 0 } }
					set_global_flag = nidavellir_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 0 }
						has_global_flag = nidavellir_disabled
					}
					every_country = { set_variable = { which = giga_nidavellir_cap value = 1 } }
					remove_global_flag = nidavellir_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 1 }
						NOT = { has_global_flag = nidavellir_disabled }
					}
					every_country = { set_variable = { which = giga_nidavellir_cap value = 2 } }
					remove_global_flag = nidavellir_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 2 }
						NOT = { has_global_flag = nidavellir_disabled }
					}
					every_country = { set_variable = { which = giga_nidavellir_cap value = 3 } }
					remove_global_flag = nidavellir_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 3 }
						NOT = { has_global_flag = nidavellir_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_nidavellir_cap value = 0 }
						}
						else = { set_variable = { which = giga_nidavellir_cap value = 100 } }
					}
					remove_global_flag = nidavellir_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_nidavellir_cap value = 100 }
						NOT = { has_global_flag = nidavellir_disabled }
					}
					every_country = { set_variable = { which = giga_nidavellir_cap value = 0 } }
					remove_global_flag = nidavellir_disabled
				}
			}
		}
	}

	###########################################################################
	### orbital_arcologies ####################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.orbital_arcologies"
		custom_tooltip = "giga_menu.orbital_arcologies_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = orbital_arcologies_disabled } }
					set_global_flag = orbital_arcologies_disabled
				}
				else = { remove_global_flag = orbital_arcologies_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 0 }
						NOT = { has_global_flag = orbital_arcologies_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 0 } }
					set_global_flag = orbital_arcologies_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 0 }
						has_global_flag = orbital_arcologies_disabled
					}
					every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 1 } }
					remove_global_flag = orbital_arcologies_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 1 }
						NOT = { has_global_flag = orbital_arcologies_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 2 } }
					remove_global_flag = orbital_arcologies_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 2 }
						NOT = { has_global_flag = orbital_arcologies_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 3 } }
					remove_global_flag = orbital_arcologies_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 3 }
						NOT = { has_global_flag = orbital_arcologies_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_orbital_arcologies_cap value = 0 }
						}
						else = { set_variable = { which = giga_orbital_arcologies_cap value = 100 } }
					}
					remove_global_flag = orbital_arcologies_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_arcologies_cap value = 100 }
						NOT = { has_global_flag = orbital_arcologies_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_arcologies_cap value = 0 } }
					remove_global_flag = orbital_arcologies_disabled
				}
			}
		}
	}

	###########################################################################
	### orbital_artificial_eco ################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.orbital_artificial_eco"
		custom_tooltip = "giga_menu.orbital_artificial_eco_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = orbital_artificial_eco_disabled } }
					set_global_flag = orbital_artificial_eco_disabled
				}
				else = { remove_global_flag = orbital_artificial_eco_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 0 }
						NOT = { has_global_flag = orbital_artificial_eco_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 0 } }
					set_global_flag = orbital_artificial_eco_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 0 }
						has_global_flag = orbital_artificial_eco_disabled
					}
					every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 1 } }
					remove_global_flag = orbital_artificial_eco_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 1 }
						NOT = { has_global_flag = orbital_artificial_eco_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 2 } }
					remove_global_flag = orbital_artificial_eco_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 2 }
						NOT = { has_global_flag = orbital_artificial_eco_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 3 } }
					remove_global_flag = orbital_artificial_eco_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 3 }
						NOT = { has_global_flag = orbital_artificial_eco_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_orbital_artificial_eco_cap value = 0 }
						}
						else = { set_variable = { which = giga_orbital_artificial_eco_cap value = 100 } }
					}
					remove_global_flag = orbital_artificial_eco_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_orbital_artificial_eco_cap value = 100 }
						NOT = { has_global_flag = orbital_artificial_eco_disabled }
					}
					every_country = { set_variable = { which = giga_orbital_artificial_eco_cap value = 0 } }
					remove_global_flag = orbital_artificial_eco_disabled
				}
			}
		}
	}

	###########################################################################
	### academy ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.academy"
		custom_tooltip = "giga_menu.academy_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = academy_disabled } }
					set_global_flag = academy_disabled
				}
				else = { remove_global_flag = academy_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 0 }
						NOT = { has_global_flag = academy_disabled }
					}
					every_country = { set_variable = { which = giga_academy_cap value = 0 } }
					set_global_flag = academy_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 0 }
						has_global_flag = academy_disabled
					}
					every_country = { set_variable = { which = giga_academy_cap value = 1 } }
					remove_global_flag = academy_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 1 }
						NOT = { has_global_flag = academy_disabled }
					}
					every_country = { set_variable = { which = giga_academy_cap value = 2 } }
					remove_global_flag = academy_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 2 }
						NOT = { has_global_flag = academy_disabled }
					}
					every_country = { set_variable = { which = giga_academy_cap value = 3 } }
					remove_global_flag = academy_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 3 }
						NOT = { has_global_flag = academy_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_academy_cap value = 0 }
						}
						else = { set_variable = { which = giga_academy_cap value = 100 } }
					}
					remove_global_flag = academy_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_academy_cap value = 100 }
						NOT = { has_global_flag = academy_disabled }
					}
					every_country = { set_variable = { which = giga_academy_cap value = 0 } }
					remove_global_flag = academy_disabled
				}
			}
		}
	}

	###########################################################################
	### elysium ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.elysium"
		custom_tooltip = "giga_menu.elysium_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = elysium_disabled } }
					set_global_flag = elysium_disabled
				}
				else = { remove_global_flag = elysium_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 0 }
						NOT = { has_global_flag = elysium_disabled }
					}
					every_country = { set_variable = { which = giga_elysium_cap value = 0 } }
					set_global_flag = elysium_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 0 }
						has_global_flag = elysium_disabled
					}
					every_country = { set_variable = { which = giga_elysium_cap value = 1 } }
					remove_global_flag = elysium_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 1 }
						NOT = { has_global_flag = elysium_disabled }
					}
					every_country = { set_variable = { which = giga_elysium_cap value = 2 } }
					remove_global_flag = elysium_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 2 }
						NOT = { has_global_flag = elysium_disabled }
					}
					every_country = { set_variable = { which = giga_elysium_cap value = 3 } }
					remove_global_flag = elysium_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 3 }
						NOT = { has_global_flag = elysium_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_elysium_cap value = 0 }
						}
						else = { set_variable = { which = giga_elysium_cap value = 100 } }
					}
					remove_global_flag = elysium_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_elysium_cap value = 100 }
						NOT = { has_global_flag = elysium_disabled }
					}
					every_country = { set_variable = { which = giga_elysium_cap value = 0 } }
					remove_global_flag = elysium_disabled
				}
			}
		}
	}

	###########################################################################
	### penrose_sphere ########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.penrose_sphere"
		custom_tooltip = "giga_menu.penrose_sphere_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = penrose_sphere_disabled } }
					set_global_flag = penrose_sphere_disabled
				}
				else = { remove_global_flag = penrose_sphere_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 0 }
						NOT = { has_global_flag = penrose_sphere_disabled }
					}
					every_country = { set_variable = { which = giga_penrose_sphere_cap value = 0 } }
					set_global_flag = penrose_sphere_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 0 }
						has_global_flag = penrose_sphere_disabled
					}
					every_country = { set_variable = { which = giga_penrose_sphere_cap value = 1 } }
					remove_global_flag = penrose_sphere_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 1 }
						NOT = { has_global_flag = penrose_sphere_disabled }
					}
					every_country = { set_variable = { which = giga_penrose_sphere_cap value = 2 } }
					remove_global_flag = penrose_sphere_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 2 }
						NOT = { has_global_flag = penrose_sphere_disabled }
					}
					every_country = { set_variable = { which = giga_penrose_sphere_cap value = 3 } }
					remove_global_flag = penrose_sphere_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 3 }
						NOT = { has_global_flag = penrose_sphere_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_penrose_sphere_cap value = 0 }
						}
						else = { set_variable = { which = giga_penrose_sphere_cap value = 100 } }
					}
					remove_global_flag = penrose_sphere_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_penrose_sphere_cap value = 100 }
						NOT = { has_global_flag = penrose_sphere_disabled }
					}
					every_country = { set_variable = { which = giga_penrose_sphere_cap value = 0 } }
					remove_global_flag = penrose_sphere_disabled
				}
			}
		}
	}

	###########################################################################
	### planetary_computer ####################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.planetary_computer"
		custom_tooltip = "giga_menu.planetary_computer_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = planetary_computer_disabled } }
					set_global_flag = planetary_computer_disabled
				}
				else = { remove_global_flag = planetary_computer_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 0 }
						NOT = { has_global_flag = planetary_computer_disabled }
					}
					every_country = { set_variable = { which = giga_planetary_computer_cap value = 0 } }
					set_global_flag = planetary_computer_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 0 }
						has_global_flag = planetary_computer_disabled
					}
					every_country = { set_variable = { which = giga_planetary_computer_cap value = 1 } }
					remove_global_flag = planetary_computer_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 1 }
						NOT = { has_global_flag = planetary_computer_disabled }
					}
					every_country = { set_variable = { which = giga_planetary_computer_cap value = 2 } }
					remove_global_flag = planetary_computer_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 2 }
						NOT = { has_global_flag = planetary_computer_disabled }
					}
					every_country = { set_variable = { which = giga_planetary_computer_cap value = 3 } }
					remove_global_flag = planetary_computer_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 3 }
						NOT = { has_global_flag = planetary_computer_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_planetary_computer_cap value = 0 }
						}
						else = { set_variable = { which = giga_planetary_computer_cap value = 100 } }
					}
					remove_global_flag = planetary_computer_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_planetary_computer_cap value = 100 }
						NOT = { has_global_flag = planetary_computer_disabled }
					}
					every_country = { set_variable = { which = giga_planetary_computer_cap value = 0 } }
					remove_global_flag = planetary_computer_disabled
				}
			}
		}
	}

	###########################################################################
	### siphon ################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.siphon"
		custom_tooltip = "giga_menu.siphon_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = siphon_disabled } }
					set_global_flag = siphon_disabled
				}
				else = { remove_global_flag = siphon_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 0 }
						NOT = { has_global_flag = siphon_disabled }
					}
					every_country = { set_variable = { which = giga_siphon_cap value = 0 } }
					set_global_flag = siphon_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 0 }
						has_global_flag = siphon_disabled
					}
					every_country = { set_variable = { which = giga_siphon_cap value = 1 } }
					remove_global_flag = siphon_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 1 }
						NOT = { has_global_flag = siphon_disabled }
					}
					every_country = { set_variable = { which = giga_siphon_cap value = 2 } }
					remove_global_flag = siphon_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 2 }
						NOT = { has_global_flag = siphon_disabled }
					}
					every_country = { set_variable = { which = giga_siphon_cap value = 3 } }
					remove_global_flag = siphon_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 3 }
						NOT = { has_global_flag = siphon_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_siphon_cap value = 0 }
						}
						else = { set_variable = { which = giga_siphon_cap value = 100 } }
					}
					remove_global_flag = siphon_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_siphon_cap value = 100 }
						NOT = { has_global_flag = siphon_disabled }
					}
					every_country = { set_variable = { which = giga_siphon_cap value = 0 } }
					remove_global_flag = siphon_disabled
				}
			}
		}
	}

	###########################################################################
	### quasistellar ##########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.quasistellar"
		custom_tooltip = "giga_menu.quasistellar_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu
			if = {
				limit = { NOT = { has_global_flag = quasistellar_disabled } }
				set_global_flag = quasistellar_disabled
			}
			else = { remove_global_flag = quasistellar_disabled }
		}
	}

	###########################################################################
	### lifters ###############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.lifters"
		custom_tooltip = "giga_menu.lifters_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = lifters_disabled } }
					set_global_flag = lifters_disabled
				}
				else = { remove_global_flag = lifters_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 0 }
						NOT = { has_global_flag = lifters_disabled }
					}
					every_country = { set_variable = { which = giga_lifters_cap value = 0 } }
					set_global_flag = lifters_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 0 }
						has_global_flag = lifters_disabled
					}
					every_country = { set_variable = { which = giga_lifters_cap value = 1 } }
					remove_global_flag = lifters_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 1 }
						NOT = { has_global_flag = lifters_disabled }
					}
					every_country = { set_variable = { which = giga_lifters_cap value = 2 } }
					remove_global_flag = lifters_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 2 }
						NOT = { has_global_flag = lifters_disabled }
					}
					every_country = { set_variable = { which = giga_lifters_cap value = 3 } }
					remove_global_flag = lifters_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 3 }
						NOT = { has_global_flag = lifters_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_lifters_cap value = 0 }
						}
						else = { set_variable = { which = giga_lifters_cap value = 100 } }
					}
					remove_global_flag = lifters_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_lifters_cap value = 100 }
						NOT = { has_global_flag = lifters_disabled }
					}
					every_country = { set_variable = { which = giga_lifters_cap value = 0 } }
					remove_global_flag = lifters_disabled
				}
			}
		}
	}

	###########################################################################
	### accelerator ###########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.accelerator"
		custom_tooltip = "giga_menu.accelerator_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = accelerator_disabled } }
					set_global_flag = accelerator_disabled
				}
				else = { remove_global_flag = accelerator_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 0 }
						NOT = { has_global_flag = accelerator_disabled }
					}
					every_country = { set_variable = { which = giga_accelerator_cap value = 0 } }
					set_global_flag = accelerator_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 0 }
						has_global_flag = accelerator_disabled
					}
					every_country = { set_variable = { which = giga_accelerator_cap value = 1 } }
					remove_global_flag = accelerator_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 1 }
						NOT = { has_global_flag = accelerator_disabled }
					}
					every_country = { set_variable = { which = giga_accelerator_cap value = 2 } }
					remove_global_flag = accelerator_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 2 }
						NOT = { has_global_flag = accelerator_disabled }
					}
					every_country = { set_variable = { which = giga_accelerator_cap value = 3 } }
					remove_global_flag = accelerator_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 3 }
						NOT = { has_global_flag = accelerator_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_accelerator_cap value = 0 }
						}
						else = { set_variable = { which = giga_accelerator_cap value = 100 } }
					}
					remove_global_flag = accelerator_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_accelerator_cap value = 100 }
						NOT = { has_global_flag = accelerator_disabled }
					}
					every_country = { set_variable = { which = giga_accelerator_cap value = 0 } }
					remove_global_flag = accelerator_disabled
				}
			}
		}
	}

	###########################################################################
	### systemcraft ###########################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.systemcraft"
		custom_tooltip = "giga_menu.systemcraft_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = systemcraft_disabled } }
					set_global_flag = systemcraft_disabled
				}
				else = { remove_global_flag = systemcraft_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 0 }
						NOT = { has_global_flag = systemcraft_disabled }
					}
					every_country = { set_variable = { which = giga_systemcraft_cap value = 0 } }
					set_global_flag = systemcraft_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 0 }
						has_global_flag = systemcraft_disabled
					}
					every_country = { set_variable = { which = giga_systemcraft_cap value = 1 } }
					remove_global_flag = systemcraft_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 1 }
						NOT = { has_global_flag = systemcraft_disabled }
					}
					every_country = { set_variable = { which = giga_systemcraft_cap value = 2 } }
					remove_global_flag = systemcraft_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 2 }
						NOT = { has_global_flag = systemcraft_disabled }
					}
					every_country = { set_variable = { which = giga_systemcraft_cap value = 3 } }
					remove_global_flag = systemcraft_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 3 }
						NOT = { has_global_flag = systemcraft_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_systemcraft_cap value = 0 }
						}
						else = { set_variable = { which = giga_systemcraft_cap value = 100 } }
					}
					remove_global_flag = systemcraft_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_systemcraft_cap value = 100 }
						NOT = { has_global_flag = systemcraft_disabled }
					}
					every_country = { set_variable = { which = giga_systemcraft_cap value = 0 } }
					remove_global_flag = systemcraft_disabled
				}
			}
		}
	}

	###########################################################################
	### compressor ############################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.compressor"
		custom_tooltip = "giga_menu.compressor_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = compressor_disabled } }
					set_global_flag = compressor_disabled
				}
				else = { remove_global_flag = compressor_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 0 }
						NOT = { has_global_flag = compressor_disabled }
					}
					every_country = { set_variable = { which = giga_compressor_cap value = 0 } }
					set_global_flag = compressor_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 0 }
						has_global_flag = compressor_disabled
					}
					every_country = { set_variable = { which = giga_compressor_cap value = 1 } }
					remove_global_flag = compressor_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 1 }
						NOT = { has_global_flag = compressor_disabled }
					}
					every_country = { set_variable = { which = giga_compressor_cap value = 2 } }
					remove_global_flag = compressor_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 2 }
						NOT = { has_global_flag = compressor_disabled }
					}
					every_country = { set_variable = { which = giga_compressor_cap value = 3 } }
					remove_global_flag = compressor_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 3 }
						NOT = { has_global_flag = compressor_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_compressor_cap value = 0 }
						}
						else = { set_variable = { which = giga_compressor_cap value = 100 } }
					}
					remove_global_flag = compressor_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_compressor_cap value = 100 }
						NOT = { has_global_flag = compressor_disabled }
					}
					every_country = { set_variable = { which = giga_compressor_cap value = 0 } }
					remove_global_flag = compressor_disabled
				}
			}
		}
	}

	###########################################################################
	### succ ##################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.succ"
		custom_tooltip = "giga_menu.succ_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = succ_disabled } }
					set_global_flag = succ_disabled
				}
				else = { remove_global_flag = succ_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 0 }
						NOT = { has_global_flag = succ_disabled }
					}
					every_country = { set_variable = { which = giga_succ_cap value = 0 } }
					set_global_flag = succ_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 0 }
						has_global_flag = succ_disabled
					}
					every_country = { set_variable = { which = giga_succ_cap value = 1 } }
					remove_global_flag = succ_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 1 }
						NOT = { has_global_flag = succ_disabled }
					}
					every_country = { set_variable = { which = giga_succ_cap value = 2 } }
					remove_global_flag = succ_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 2 }
						NOT = { has_global_flag = succ_disabled }
					}
					every_country = { set_variable = { which = giga_succ_cap value = 3 } }
					remove_global_flag = succ_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 3 }
						NOT = { has_global_flag = succ_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_succ_cap value = 0 }
						}
						else = { set_variable = { which = giga_succ_cap value = 100 } }
					}
					remove_global_flag = succ_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_succ_cap value = 100 }
						NOT = { has_global_flag = succ_disabled }
					}
					every_country = { set_variable = { which = giga_succ_cap value = 0 } }
					remove_global_flag = succ_disabled
				}
			}
		}
	}

	###########################################################################
	### orchid ################################################################
	###########################################################################
	option = {
		custom_gui = "giga_main_menu_option"
		name = "giga_menu.orchid"
		custom_tooltip = "giga_menu.orchid_tooltip"
		hidden_effect = {
			country_event = { id = giga_menu.1 }	# Refresh Menu

			# After Game start
			if = {
				limit = { has_global_flag = giga_game_started }
				if = {
					limit = { NOT = { has_global_flag = orchid_disabled } }
					set_global_flag = orchid_disabled
				}
				else = { remove_global_flag = orchid_disabled }
			}

			# Game start
			else = {
				# Turn off
				if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 0 }
						NOT = { has_global_flag = orchid_disabled }
					}
					every_country = { set_variable = { which = giga_orchid_cap value = 0 } }
					set_global_flag = orchid_disabled
				}

				# Cap 1
				else_if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 0 }
						has_global_flag = orchid_disabled
					}
					every_country = { set_variable = { which = giga_orchid_cap value = 1 } }
					remove_global_flag = orchid_disabled
				}

				# Cap 2
				else_if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 1 }
						NOT = { has_global_flag = orchid_disabled }
					}
					every_country = { set_variable = { which = giga_orchid_cap value = 2 } }
					remove_global_flag = orchid_disabled
				}

				# Cap 3
				else_if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 2 }
						NOT = { has_global_flag = orchid_disabled }
					}
					every_country = { set_variable = { which = giga_orchid_cap value = 3 } }
					remove_global_flag = orchid_disabled
				}

				# Repeatables
				else_if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 3 }
						NOT = { has_global_flag = orchid_disabled }
					}
					every_country = {
						if = {
							limit = { has_global_flag = giga_game_started }
							set_variable = { which = giga_orchid_cap value = 0 }
						}
						else = { set_variable = { which = giga_orchid_cap value = 100 } }
					}
					remove_global_flag = orchid_disabled
				}

				# Unlimited
				else_if = {
					limit = {
						check_variable = { which = giga_orchid_cap value = 100 }
						NOT = { has_global_flag = orchid_disabled }
					}
					every_country = { set_variable = { which = giga_orchid_cap value = 0 } }
					remove_global_flag = orchid_disabled
				}
			}
		}
	}
}