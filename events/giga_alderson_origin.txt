namespace = giga_alderson

country_event = {
	id = giga_alderson.001
	hide_window = yes
	is_triggered_only = yes
	trigger = { has_origin = origin_alderson }

	immediate = {
		# Give key techs to make districts not dissappear
		give_technology = { tech = giga_tech_alderson_disk	message = no }
		give_technology = { tech = tech_hydroponics			message = no }

		capital_scope = {
			clear_blockers = yes
			clear_planet_modifiers = yes
			trigger_megastructure_icon = yes
			remove_all_districts = yes
			remove_all_buildings = yes
			add_deposit = d_alderson_generator
			add_deposit = d_birch_lost01			# Adds 3x pop giving blockers
			add_district = district_giga_alderson_city
			add_district = district_giga_alderson_mining
			add_district = district_giga_alderson_farming

			if = {
				limit = { OR = { root = { is_gestalt = yes is_fallen_empire = yes } } }
				add_district = district_giga_alderson_generator
			}
			else = { add_district = district_giga_alderson_commercial }

			if = {
				limit = { owner = { is_regular_empire = yes } }
				add_building = building_capital
				add_building = building_research_lab_1
				add_building = building_foundry_1
				add_building = building_factory_1
				add_building = building_hydroponics_farm
				add_building = building_hydroponics_farm
			}
			else_if = {
				limit = { owner = { is_hive_empire = yes } }
				add_building = building_hive_capital
				add_building = building_research_lab_1
				add_building = building_foundry_1
				add_building = building_spawning_pool
				add_building = building_hydroponics_farm
				add_building = building_hydroponics_farm
			}
			else_if = {
				limit = { owner = { is_machine_empire = yes } }
				add_building = building_machine_capital
				add_building = building_machine_assembly_plant
				add_building = building_uplink_node
				add_building = building_research_lab_1
				add_building = building_foundry_1

				# Servitors
				if = {
					limit = { owner = { has_civic = civic_machine_servitor } }
					add_building = building_organic_sanctuary
					add_building = building_hydroponics_farm
				}

				# Assimilators
				if = {
					limit = { owner = { has_civic = civic_machine_assimilator } }
					add_building = building_hydroponics_farm
				}
			}
		}
	}
}