ehof_add_negative_mass_deposit = {
	set_planet_flag = ehof_has_negative_mass_deposit
	random_list = {
		1 = {														add_deposit = d_negative_mass_deposit_1  solar_system = { change_variable = { which = ehof_negative_mass value = 1 } } }
		1 = {														add_deposit = d_negative_mass_deposit_2  solar_system = { change_variable = { which = ehof_negative_mass value = 2 } } }
		1 = {														add_deposit = d_negative_mass_deposit_3  solar_system = { change_variable = { which = ehof_negative_mass value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_negative_mass_deposit_4  solar_system = { change_variable = { which = ehof_negative_mass value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_negative_mass_deposit_5  solar_system = { change_variable = { which = ehof_negative_mass value = 5 } } }
	}
}

ehof_add_dark_matter_deposit = {
	set_planet_flag = ehof_has_dark_matter_deposit
	random_list = {
		1 = {														add_deposit = d_dark_matter_deposit_1  solar_system = { change_variable = { which = ehof_dark_matter value = 1  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 1 } } } }
		1 = {														add_deposit = d_dark_matter_deposit_2  solar_system = { change_variable = { which = ehof_dark_matter value = 2  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 2 } } } }
		1 = {														add_deposit = d_dark_matter_deposit_3  solar_system = { change_variable = { which = ehof_dark_matter value = 3  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 3 } } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_dark_matter_deposit_4  solar_system = { change_variable = { which = ehof_dark_matter value = 4  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 4 } } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_dark_matter_deposit_5  solar_system = { change_variable = { which = ehof_dark_matter value = 5  } } if = { limit = { has_global_flag = compound_count_darkmatter } event_target:compound_country = { change_variable = { which = compound_dark_matter value = 5 } } } }
	}
}

ehof_add_zro_deposit = {
	set_planet_flag = ehof_has_zro_deposit
	random_list = {
		1 = {														add_deposit = d_zro_deposit_1  solar_system = { change_variable = { which = ehof_zro value = 1 } } }
		1 = {														add_deposit = d_zro_deposit_2  solar_system = { change_variable = { which = ehof_zro value = 2 } } }
		1 = {														add_deposit = d_zro_deposit_3  solar_system = { change_variable = { which = ehof_zro value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_zro_deposit_4  solar_system = { change_variable = { which = ehof_zro value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_zro_deposit_5  solar_system = { change_variable = { which = ehof_zro value = 5 } } }
	}
}

ehof_add_alloys = {
	set_planet_flag = ehof_has_alloys
	random_list = {
		1 = {														add_deposit = d_alloys_1  solar_system = { change_variable = { which = ehof_alloys value = 1 } } }
		1 = {														add_deposit = d_alloys_2  solar_system = { change_variable = { which = ehof_alloys value = 2 } } }
		1 = {														add_deposit = d_alloys_3  solar_system = { change_variable = { which = ehof_alloys value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_alloys_4  solar_system = { change_variable = { which = ehof_alloys value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_alloys_5  solar_system = { change_variable = { which = ehof_alloys value = 5 } } }
	}
}

ehof_add_exotic_gases = {
	set_planet_flag = ehof_has_exotic_gases
	random_list = {
		1 = {														add_deposit = d_exotic_gases_1  solar_system = { change_variable = { which = ehof_exotic_gases value = 1 } } }
		1 = {														add_deposit = d_exotic_gases_2  solar_system = { change_variable = { which = ehof_exotic_gases value = 2 } } }
		1 = {														add_deposit = d_exotic_gases_3  solar_system = { change_variable = { which = ehof_exotic_gases value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_exotic_gases_4  solar_system = { change_variable = { which = ehof_exotic_gases value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_exotic_gases_5  solar_system = { change_variable = { which = ehof_exotic_gases value = 5 } } }
	}
}

ehof_add_rare_crystals = {
	set_planet_flag = ehof_has_rare_crystals
	random_list = {
		1 = {														add_deposit = d_rare_crystals_1  solar_system = { change_variable = { which = ehof_rare_crystals value = 1 } } }
		1 = {														add_deposit = d_rare_crystals_2  solar_system = { change_variable = { which = ehof_rare_crystals value = 2 } } }
		1 = {														add_deposit = d_rare_crystals_3  solar_system = { change_variable = { which = ehof_rare_crystals value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_rare_crystals_4  solar_system = { change_variable = { which = ehof_rare_crystals value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_rare_crystals_5  solar_system = { change_variable = { which = ehof_rare_crystals value = 5 } } }
	}
}

ehof_add_volatile_motes = {
	set_planet_flag = ehof_has_volatile_motes
	random_list = {
		1 = {														add_deposit = d_volatile_motes_1  solar_system = { change_variable = { which = ehof_volatile_motes value = 1 } } }
		1 = {														add_deposit = d_volatile_motes_2  solar_system = { change_variable = { which = ehof_volatile_motes value = 2 } } }
		1 = {														add_deposit = d_volatile_motes_3  solar_system = { change_variable = { which = ehof_volatile_motes value = 3 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_volatile_motes_4  solar_system = { change_variable = { which = ehof_volatile_motes value = 4 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_volatile_motes_5  solar_system = { change_variable = { which = ehof_volatile_motes value = 5 } } }
	}
}

ehof_add_engineering = {
	set_planet_flag = ehof_has_engineering
	random_list = {
		1 = {														add_deposit = d_engineering_1  solar_system = { change_variable = { which = ehof_engineering value = 1 } } }
		1 = {														add_deposit = d_engineering_2  solar_system = { change_variable = { which = ehof_engineering value = 2 } } }
		1 = {														add_deposit = d_engineering_3  solar_system = { change_variable = { which = ehof_engineering value = 3 } } }
		1 = {														add_deposit = d_engineering_4  solar_system = { change_variable = { which = ehof_engineering value = 4 } } }
		1 = {														add_deposit = d_engineering_5  solar_system = { change_variable = { which = ehof_engineering value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_engineering_6  solar_system = { change_variable = { which = ehof_engineering value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_engineering_7  solar_system = { change_variable = { which = ehof_engineering value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_engineering_8  solar_system = { change_variable = { which = ehof_engineering value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_engineering_9  solar_system = { change_variable = { which = ehof_engineering value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_engineering_10 solar_system = { change_variable = { which = ehof_engineering value = 10 } } }
	}
}

ehof_add_society = {
	set_planet_flag = ehof_has_society
	random_list = {
		1 = {														add_deposit = d_society_1  solar_system = { change_variable = { which = ehof_society value = 1 } } }
		1 = {														add_deposit = d_society_2  solar_system = { change_variable = { which = ehof_society value = 2 } } }
		1 = {														add_deposit = d_society_3  solar_system = { change_variable = { which = ehof_society value = 3 } } }
		1 = {														add_deposit = d_society_4  solar_system = { change_variable = { which = ehof_society value = 4 } } }
		1 = {														add_deposit = d_society_5  solar_system = { change_variable = { which = ehof_society value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_society_6  solar_system = { change_variable = { which = ehof_society value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_society_7  solar_system = { change_variable = { which = ehof_society value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_society_8  solar_system = { change_variable = { which = ehof_society value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_society_9  solar_system = { change_variable = { which = ehof_society value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_society_10 solar_system = { change_variable = { which = ehof_society value = 10 } } }
	}
}

ehof_add_physics = {
	set_planet_flag = ehof_has_physics
	random_list = {
		1 = {														add_deposit = d_physics_1  solar_system = { change_variable = { which = ehof_physics value = 1 } } }
		1 = {														add_deposit = d_physics_2  solar_system = { change_variable = { which = ehof_physics value = 2 } } }
		1 = {														add_deposit = d_physics_3  solar_system = { change_variable = { which = ehof_physics value = 3 } } }
		1 = {														add_deposit = d_physics_4  solar_system = { change_variable = { which = ehof_physics value = 4 } } }
		1 = {														add_deposit = d_physics_5  solar_system = { change_variable = { which = ehof_physics value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_physics_6  solar_system = { change_variable = { which = ehof_physics value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_physics_7  solar_system = { change_variable = { which = ehof_physics value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_physics_8  solar_system = { change_variable = { which = ehof_physics value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_physics_9  solar_system = { change_variable = { which = ehof_physics value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_physics_10 solar_system = { change_variable = { which = ehof_physics value = 10 } } }
	}
}

ehof_add_energy = {
	set_planet_flag = ehof_has_energy
	random_list = {
		1 = {														add_deposit = d_energy_1  solar_system = { change_variable = { which = ehof_energy value = 1 } } }
		1 = {														add_deposit = d_energy_2  solar_system = { change_variable = { which = ehof_energy value = 2 } } }
		1 = {														add_deposit = d_energy_3  solar_system = { change_variable = { which = ehof_energy value = 3 } } }
		1 = {														add_deposit = d_energy_4  solar_system = { change_variable = { which = ehof_energy value = 4 } } }
		1 = {														add_deposit = d_energy_5  solar_system = { change_variable = { which = ehof_energy value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_energy_6  solar_system = { change_variable = { which = ehof_energy value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_energy_7  solar_system = { change_variable = { which = ehof_energy value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_energy_8  solar_system = { change_variable = { which = ehof_energy value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_energy_9  solar_system = { change_variable = { which = ehof_energy value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_energy_10 solar_system = { change_variable = { which = ehof_energy value = 10 } } }
	}
}

ehof_add_minerals = {
	set_planet_flag = ehof_has_minerals
	random_list = {
		1 = {														add_deposit = d_minerals_1  solar_system = { change_variable = { which = ehof_minerals value = 1 } } }
		1 = {														add_deposit = d_minerals_2  solar_system = { change_variable = { which = ehof_minerals value = 2 } } }
		1 = {														add_deposit = d_minerals_3  solar_system = { change_variable = { which = ehof_minerals value = 3 } } }
		1 = {														add_deposit = d_minerals_4  solar_system = { change_variable = { which = ehof_minerals value = 4 } } }
		1 = {														add_deposit = d_minerals_5  solar_system = { change_variable = { which = ehof_minerals value = 5 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 7  } }	add_deposit = d_minerals_6  solar_system = { change_variable = { which = ehof_minerals value = 6 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 9  } }	add_deposit = d_minerals_7  solar_system = { change_variable = { which = ehof_minerals value = 7 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 11 } }	add_deposit = d_minerals_8  solar_system = { change_variable = { which = ehof_minerals value = 8 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 13 } }	add_deposit = d_minerals_9  solar_system = { change_variable = { which = ehof_minerals value = 9 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 15 } }	add_deposit = d_minerals_10 solar_system = { change_variable = { which = ehof_minerals value = 10 } } }
	}
}

ehof_add_living_metal_deposit = {
	random_list = {
		1 = {														set_planet_flag = ehof_has_living_metal_deposit	add_deposit = d_living_metal_deposit   solar_system = { change_variable = { which = ehof_living_metal value = 1 } } }
		1 = { modifier = { factor = 0 NOT = { planet_size > 20 } }	set_planet_flag = ehof_has_living_metal_deposit	add_deposit = d_living_metal_deposit_2 solar_system = { change_variable = { which = ehof_living_metal value = 2 } } }
	}
}

ehof_mining_deposit = {
	random_list = {
		1 = {
			# Add minerals
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_minerals value >= ehof_cap_minerals } }
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_minerals

					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_minerals = yes
		}
		1 = {
			# Add energy
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_energy value >= ehof_cap_energy } }
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_energy

					is_asteroid = yes
					is_planet_class = pc_black_hole
					is_planet_class = pc_ehof_black_hole
				}
			}
			ehof_add_energy = yes
		}
		1 = {
			# Add alloys
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_alloys value >= ehof_cap_alloys } }
					has_planet_flag = ehof_has_alloys
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_physics
					has_planet_flag = ehof_has_society
					has_planet_flag = ehof_has_energy

					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_alloys = yes
		}
		1 = {
			# Add exotic_gases
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_exotic_gases value >= ehof_cap_exotic_gases } }
					has_planet_flag = ehof_has_exotic_gases
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_physics
					has_planet_flag = ehof_has_society
					has_planet_flag = ehof_has_energy

					event_target:current_system_creator = { NOT = { has_technology = tech_exotic_gases } }
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_exotic_gases = yes
		}
		1 = {
			# Add rare_crystals
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_rare_crystals value >= ehof_cap_rare_crystals } }
					has_planet_flag = ehof_has_rare_crystals
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_physics
					has_planet_flag = ehof_has_society
					has_planet_flag = ehof_has_energy

					event_target:current_system_creator = { NOT = { has_technology = tech_mine_rare_crystals } }
					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_rare_crystals = yes
		}
		1 = {
			# Add volatile_motes
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_volatile_motes value >= ehof_cap_volatile_motes } }
					has_planet_flag = ehof_has_volatile_motes
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
					has_planet_flag = ehof_has_physics
					has_planet_flag = ehof_has_society
					has_planet_flag = ehof_has_energy

					event_target:current_system_creator = { NOT = { has_technology = tech_mine_volatile_motes } }
					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_volatile_motes = yes
		}
	}
}

ehof_research_deposit = {
	random_list = {
		100 = {
			# Add dark_matter
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_dark_matter value >= ehof_cap_dark_matter } }
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_living_metal_deposit

					event_target:current_system_creator = { NOT = { has_technology = tech_mine_dark_matter } }
					NOT = { is_planet_class = pc_black_hole }
					NOT = { is_planet_class = pc_ehof_black_hole }
				}
			}
			ehof_add_dark_matter_deposit = yes
		}
		1 = {
			# Add physics
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_physics value >= ehof_cap_physics } }
					has_planet_flag = ehof_has_physics
					has_planet_flag = ehof_has_alloys
					has_planet_flag = ehof_has_exotic_gases
					has_planet_flag = ehof_has_rare_crystals
					has_planet_flag = ehof_has_volatile_motes
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
				}
			}
			ehof_add_physics = yes
		}
		1 = {
			# Add society
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_society value >= ehof_cap_society } }
					has_planet_flag = ehof_has_society
					has_planet_flag = ehof_has_alloys
					has_planet_flag = ehof_has_exotic_gases
					has_planet_flag = ehof_has_rare_crystals
					has_planet_flag = ehof_has_volatile_motes
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit

					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			ehof_add_society = yes
		}
		1 = {
			# Add engineering
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_engineering value >= ehof_cap_engineering } }
					has_planet_flag = ehof_has_engineering
					has_planet_flag = ehof_has_alloys
					has_planet_flag = ehof_has_exotic_gases
					has_planet_flag = ehof_has_rare_crystals
					has_planet_flag = ehof_has_volatile_motes
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_living_metal_deposit
				}
			}
			ehof_add_engineering = yes
		}
	}
}

ehof_rare_deposit = {
	random_list = {
		1 = {
			# Add zro
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_zro value >= ehof_cap_zro } }
					solar_system = { any_system_planet = { has_planet_flag = ehof_has_living_metal_deposit } }
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_living_metal_deposit


					event_target:current_system_creator = { has_country_flag = ehof_recently_spawned_zro }
					event_target:current_system_creator = { NOT = { has_technology = tech_mine_zro } }
					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			event_target:current_system_creator = { set_timed_country_flag = { flag = ehof_recently_spawned_zro years = 10 } }
			ehof_add_zro_deposit = yes
		}
		1 = {
			# Add living_metal
			modifier = {
				factor = 0
				OR = {
					solar_system = { check_variable = { which = ehof_living_metal value >= ehof_cap_living_metal } }
					solar_system = { any_system_planet = { has_planet_flag = ehof_has_zro_deposit } }
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_living_metal_deposit

					event_target:current_system_creator = { has_country_flag = ehof_recently_spawned_lm }
					event_target:current_system_creator = { NOT = { has_technology = tech_mine_living_metal } }
					is_planet_class = pc_gas_giant
					is_star = yes
					ehof_is_binary_star = yes
					ehof_is_trinary_star = yes
				}
			}
			event_target:current_system_creator = { set_timed_country_flag = { flag = ehof_recently_spawned_lm years = 10 } }
			ehof_add_living_metal_deposit = yes
			set_planet_flag = ehof_has_living_metal_deposit
		}
	}
}

ehof_add_resource = {
	random_list = {
		1 = {
			# Add negative_mass
			modifier = { factor = 0 is_asteroid = yes }
			modifier = {
				factor = 0.5
				solar_system = { check_variable = { which = ehof_negative_mass value > 0 } }
			}
			modifier = {
				factor = 0
				OR = {
					has_planet_flag = ehof_has_zro_deposit
					has_planet_flag = ehof_has_dark_matter_deposit
					has_planet_flag = ehof_has_negative_mass_deposit
					has_planet_flag = ehof_has_living_metal_deposit

					is_planet_class = pc_black_hole
					is_planet_class = pc_ehof_black_hole
				}
			}
			ehof_add_negative_mass_deposit = yes
		}
		1 = {
			modifier = { factor = 0 solar_system = { check_variable = { which = ehof_negative_mass value < 1 } } }
			modifier = { factor = 0 has_deposit_for = shipclass_research_station }
			change_variable = { which = ehof_deposit_attempt value = 1 }
			ehof_mining_deposit = yes
		}
		1 = {
			modifier = { factor = 0 solar_system = { check_variable = { which = ehof_negative_mass value < 1 } } }
			modifier = { factor = 0 has_deposit_for = shipclass_mining_station }
			modifier = { factor = 0 is_asteroid = yes }
			change_variable = { which = ehof_deposit_attempt value = 1 }
			ehof_research_deposit = yes
		}
		1 = {
			modifier = { factor = 0 solar_system = { check_variable = { which = ehof_negative_mass value < 1 } } }
			modifier = { factor = 0 has_deposit_for = shipclass_research_station }
			modifier = { factor = 0 is_asteroid = yes }
			change_variable = { which = ehof_deposit_attempt value = 1 }
			ehof_rare_deposit = yes
		}
	}
}

ehof_generate_deposits = {
	if = {
		limit = { has_global_flag = ehof_spawning_compound }
		set_global_flag = compound_count_darkmatter
		every_system_planet = {
			clear_deposits = yes
			ehof_add_dark_matter_deposit = yes
		}
		remove_global_flag = compound_count_darkmatter
	}
	else = {
		# Set cap variables
		random_list = {
			1 = { set_variable = { which = ehof_cap_minerals		value = 0 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 1 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 2 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 3 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 4 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 5 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 6 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 7 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 8 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 9 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 10 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 11 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 12 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 13 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 14 } }
			1 = { set_variable = { which = ehof_cap_minerals		value = 15 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_energy			value = 0 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 1 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 2 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 3 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 4 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 5 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 6 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 7 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 8 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 9 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 10 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 11 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 12 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 13 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 14 } }
			1 = { set_variable = { which = ehof_cap_energy			value = 15 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_physics			value = 0 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 1 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 2 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 3 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 4 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 5 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 6 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 7 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 8 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 9 } }
			1 = { set_variable = { which = ehof_cap_physics			value = 10 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_society			value = 0 } }
			1 = { set_variable = { which = ehof_cap_society			value = 1 } }
			1 = { set_variable = { which = ehof_cap_society			value = 2 } }
			1 = { set_variable = { which = ehof_cap_society			value = 3 } }
			1 = { set_variable = { which = ehof_cap_society			value = 4 } }
			1 = { set_variable = { which = ehof_cap_society			value = 5 } }
			1 = { set_variable = { which = ehof_cap_society			value = 6 } }
			1 = { set_variable = { which = ehof_cap_society			value = 7 } }
			1 = { set_variable = { which = ehof_cap_society			value = 8 } }
			1 = { set_variable = { which = ehof_cap_society			value = 9 } }
			1 = { set_variable = { which = ehof_cap_society			value = 10 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_engineering		value = 0 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 1 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 2 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 3 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 4 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 5 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 6 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 7 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 8 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 9 } }
			1 = { set_variable = { which = ehof_cap_engineering		value = 10 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 0 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 1 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 2 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 3 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 4 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 5 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 6 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 7 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 8 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 9 } }
			1 = { set_variable = { which = ehof_cap_negative_mass	value = 10 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_exotic_gases	value = 0 } }
			1 = { set_variable = { which = ehof_cap_exotic_gases	value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_rare_crystals	value = 0 } }
			1 = { set_variable = { which = ehof_cap_rare_crystals	value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_volatile_motes	value = 0 } }
			1 = { set_variable = { which = ehof_cap_volatile_motes	value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_alloys			value = 0 } }
			1 = { set_variable = { which = ehof_cap_alloys			value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_dark_matter		value = 0 } }
			1 = { set_variable = { which = ehof_cap_dark_matter		value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_zro				value = 0 } }
			1 = { set_variable = { which = ehof_cap_zro				value = 1 } }
		}

		random_list = {
			1 = { set_variable = { which = ehof_cap_living_metal	value = 0 } }
			1 = { set_variable = { which = ehof_cap_living_metal	value = 1 } }
		}

		random_list = {
			35 = { set_variable = { which = ehof_cap_multiplier value = 1 } }
			35 = { modifier = { factor = 2 quest_system = yes } set_variable = { which = ehof_cap_multiplier value = 2 } }
			20 = { modifier = { factor = 0 quest_system = yes } set_variable = { which = ehof_cap_multiplier value = 3 } }
			10 = { modifier = { factor = 0 quest_system = yes } set_variable = { which = ehof_cap_multiplier value = 4 } }
		}

		if = {
			limit = {
				OR = {
					rare_system = yes
					urmazin_system = yes
					quest_system = yes
				}
			}
			multiply_variable = { which = ehof_cap_minerals			value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_energy			value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_alloys			value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_exotic_gases		value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_rare_crystals	value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_volatile_motes	value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_zro				value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_living_metal		value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_dark_matter		value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_negative_mass	value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_physics			value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_society			value = ehof_cap_multiplier }
			multiply_variable = { which = ehof_cap_engineering		value = ehof_cap_multiplier }
		}

		# Add resources
		every_system_planet = {
			limit = { is_planet_habitable = no }
			random_list = {
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 0 } }
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 1 } }
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 2 } }
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 3 } }
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 4 } }
				1 = { set_variable = { which = ehof_max_planet_deposits	value = 5 } }
			}
			if = {
				limit = { solar_system = { OR = { rare_system = yes urmazin_system = yes } } }
				multiply_variable = { which = ehof_max_planet_deposits value = 2 }
			}

			clear_deposits = yes
			while = {
				limit = { check_variable = { which = ehof_deposit_attempt value < ehof_max_planet_deposits } }
				ehof_add_resource = yes
			}
		}

		# Remove variables afterwards
		set_variable = { which = ehof_cap_minerals			value = 0 }
		set_variable = { which = ehof_cap_energy			value = 0 }
		set_variable = { which = ehof_cap_alloys			value = 0 }
		set_variable = { which = ehof_cap_exotic_gases		value = 0 }
		set_variable = { which = ehof_cap_rare_crystals		value = 0 }
		set_variable = { which = ehof_cap_volatile_motes	value = 0 }
		set_variable = { which = ehof_cap_zro				value = 0 }
		set_variable = { which = ehof_cap_living_metal		value = 0 }
		set_variable = { which = ehof_cap_dark_matter		value = 0 }
		set_variable = { which = ehof_cap_negative_mass		value = 0 }
		set_variable = { which = ehof_cap_physics			value = 0 }
		set_variable = { which = ehof_cap_society			value = 0 }
		set_variable = { which = ehof_cap_engineering		value = 0 }

		every_system_planet = {
			set_variable = { which = ehof_max_planet_deposits	value = 0 }
			set_variable = { which = ehof_deposit_attempt		value = 0 }
			remove_planet_flag = ehof_has_engineering
			remove_planet_flag = ehof_has_society
			remove_planet_flag = ehof_has_physics
			remove_planet_flag = ehof_has_energy
			remove_planet_flag = ehof_has_minerals
			remove_planet_flag = ehof_has_volatile_motes
			remove_planet_flag = ehof_has_rare_crystals
			remove_planet_flag = ehof_has_exotic_gases
			remove_planet_flag = ehof_has_zro_deposit
			remove_planet_flag = ehof_has_alloys
			remove_planet_flag = ehof_has_dark_matter_deposit
			remove_planet_flag = ehof_has_negative_mass_deposit
			remove_planet_flag = ehof_has_living_metal_deposit
		}
	}
}