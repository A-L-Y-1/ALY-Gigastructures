#########################################################################################################################################
# Main situation: Exploring our ancient home

giga_situation_birch_origin = {
	picture = GFX_evt_archaeological_dig

	complete_icon = GFX_situation_outcome_unknown
	complete_icon_frame = GFX_situation_outcome_frame_blue

	stages = {
		stage_1 = {
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_blue
			end = 200
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_2 = {
			icon = GFX_situation_stage_2
			icon_background = GFX_situation_stage_frame_blue
			end = 400
			on_first_enter = {
				situation_event = { id = giga_birch.1000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_3 = {
			icon = GFX_situation_stage_3
			icon_background = GFX_situation_stage_frame_blue
			end = 600
			on_first_enter = {
				situation_event = { id = giga_birch.2000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_4 = {
			icon = GFX_situation_stage_4
			icon_background = GFX_situation_stage_frame_blue
			end = 800
			on_first_enter = {
				situation_event = { id = giga_birch.3000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_5 = {
			icon = GFX_situation_stage_5
			icon_background = GFX_situation_stage_frame_blue
			end = 1000
			on_first_enter = {
				situation_event = { id = giga_birch.4000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_6 = {
			icon = GFX_situation_stage_6
			icon_background = GFX_situation_stage_frame_blue
			end = 1200
			on_first_enter = {
				situation_event = { id = giga_birch.5000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_7 = {
			icon = GFX_situation_stage_7
			icon_background = GFX_situation_stage_frame_blue
			end = 1400
			on_first_enter = {
				situation_event = { id = giga_birch.6000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_8 = {
			icon = GFX_situation_stage_8
			icon_background = GFX_situation_stage_frame_blue
			end = 1600
			on_first_enter = {
				situation_event = { id = giga_birch.7000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_9 = {
			icon = GFX_situation_stage_9
			icon_background = GFX_situation_stage_frame_blue
			end = 1800
			on_first_enter = {
				situation_event = { id = giga_birch.8000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
		stage_10 = {
			icon = GFX_situation_stage_10
			icon_background = GFX_situation_stage_frame_blue
			end = 2000
			on_first_enter = {
				situation_event = { id = giga_birch.9000 }
			}
			custom_tooltip = giga_situation_birch_origin_stage_effects
		}
	}

	approach = {
		name = giga_situation_birch_origin_approach_regular
		icon = GFX_situation_approach_balance_sheet
		icon_background = GFX_situation_approach_bg_yellow
		default = yes
	}

	on_monthly = {
		
	}

	monthly_progress = {
		base = 0
	}

	on_progress_complete = {
		custom_tooltip = giga_situation_birch_origin_outcome
		hidden_effect = {
			situation_event = { id = giga_birch.10000 }
		}
		set_situation_locked = yes
	}
}

#########################################################################################################################################
# Expedition 3: powering the spire

giga_situation_birch_expedition_3 = {
	picture = GFX_evt_generator_powerup
	complete_icon_frame = GFX_situation_outcome_frame_green
	complete_icon = GFX_situation_outcome_positive
	

	stages = {
		giga_situation_birch_expedition_3_stage = {
			end = 5000
			icon = GFX_situation_stage_1
			icon_background = GFX_situation_stage_frame_green
		}
	}

	approach = {
		name = giga_situation_birch_expedition_3_approach_halt
		icon = GFX_situation_approach_balance_sheet
		icon_background = GFX_situation_approach_bg_red
		default = yes

		on_select = {
			custom_tooltip = giga_situation_birch_expedition_3_approach_halt_tooltip
		}

		ai_weight = {
			base = 1
			modifier = {
				add = 2
				owner = {
					has_actual_deficit = { RESOURCE = energy }
				}
			}
		}
	}

	approach = {
		name = giga_situation_birch_expedition_3_approach_power
		icon = GFX_situation_approach_energy_credits
		icon_background = GFX_situation_approach_bg_green

		resources = {
			category = situations
			upkeep = {
				energy = 50
			}
		}

		ai_weight = {
			base = 0
			modifier = {
				add = 2
				owner = {
					or = {
						resource_income_compare = {
							resource = energy
							value >= 50
						}
						resource_stockpile_compare = {
							resource = energy
							value >= 10000
						}
					}
				}
			}
		}
	}

	monthly_progress = {
		base = 0
		modifier = {
			set = -25 # TODO: change this to a script_value so it never goes below 0
			desc = giga_situation_birch_expedition_3_approach_halt_effect
			current_situation_approach = giga_situation_birch_expedition_3_approach_halt
			situation_progress > 0
		}
		modifier = {
			set = 50
			desc = giga_situation_birch_expedition_3_approach_power_effect
			current_situation_approach = giga_situation_birch_expedition_3_approach_power
		}
	}

	on_progress_complete = {
		custom_tooltip = giga_situation_birch_expedition_3_outcome
		hidden_effect = {
			owner = {
				country_event = {
					id = giga_birch.3003
				}
			}
		}
	}
}