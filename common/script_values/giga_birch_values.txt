giga_birch_district_max = {
	base = 0

	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = giga_birch_district_$category$_max
		}
		mode = weight
	}

	subtract = value:giga_var|var|giga_birch_district_$category$_built|
	add = value:giga_var|var|giga_birch_district_$category$_$type$_queued|
	
	complex_trigger_modifier = {
		trigger = num_districts
		parameters = {
			type = district_giga_birch_$type$
		}
		mode = add
	}

	min = 0
}

giga_birch_district_available = {
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = giga_birch_district_$category$_max
		}
		mode = weight
	}
	subtract = value:giga_var|var|giga_birch_district_$category$_built|

	min = 0
}

giga_birch_total_district_slots = {
	base = 0
	
	min = value:giga_birch_district_available|category|insula|
	min = value:giga_birch_district_available|category|orykta|
	min = value:giga_birch_district_available|category|ktisma|
	min = value:giga_birch_district_available|category|physma|

	complex_trigger_modifier = {
		trigger = num_districts
		parameters = { type = any }
		mode = add
	}
}

# number of unemployment coverage jobs, should leave exactly 1 pop unemployed
giga_birch_resident_jobs = {
	base = 0

	complex_trigger_modifier = {
		trigger = num_assigned_jobs
		parameters = {
			job = giga_birch_resident
		}
		mode = add
	}
	# exclude non-worker unemployed, and any who are ineligible
	complex_trigger_modifier = {
		trigger = count_owned_pop
		parameters = {
			limit = {
				is_unemployed = yes
				can_work_specific_job = giga_birch_resident
			}
		}
		mode = add
	}

	modifier = {
		exists = owner
		owner = {
			is_ai = yes
			not = { has_edict = giga_migrate_birch_world }
		}
		subtract = 5 # make sure the AI has some unemployed to incentivise building
	}

	modifier = {
		exists = owner
		owner = {
			has_edict = giga_migrate_birch_world
		}
		add = 5 # extra open jobs for when migration is incentivised
	}

	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = giga_planet_unemployment_coverage
		}
		mode = max
	}

	min = 0
}
